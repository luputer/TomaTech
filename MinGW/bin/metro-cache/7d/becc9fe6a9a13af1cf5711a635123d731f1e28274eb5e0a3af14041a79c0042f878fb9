{"dependencies":[{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":73,"index":120}}],"key":"wXMcIJWUD66R6uBdlKglbjBdJPs="}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":0,"index":121},"end":{"line":5,"column":69,"index":190}}],"key":"s3tKImF4x81CxrhRnhZSIjHl48M="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useOptionsGetters = useOptionsGetters;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  var _NavigationBuilderContext = require(_dependencyMap[1], \"./NavigationBuilderContext.js\");\n  var _NavigationStateContext = require(_dependencyMap[2], \"./NavigationStateContext.js\");\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  function useOptionsGetters({\n    key,\n    options,\n    navigation\n  }) {\n    const optionsRef = React.useRef(options);\n    const optionsGettersFromChildRef = React.useRef({});\n    const {\n      onOptionsChange\n    } = React.useContext(_NavigationBuilderContext.NavigationBuilderContext);\n    const {\n      addOptionsGetter: parentAddOptionsGetter\n    } = React.useContext(_NavigationStateContext.NavigationStateContext);\n    const optionsChangeListener = React.useCallback(() => {\n      const isFocused = navigation?.isFocused() ?? true;\n      const hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    const getOptionsFromListener = React.useCallback(() => {\n      for (const key in optionsGettersFromChildRef.current) {\n        if (key in optionsGettersFromChildRef.current) {\n          const result = optionsGettersFromChildRef.current[key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    const getCurrentOptions = React.useCallback(() => {\n      const isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      const optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    const addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":79,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useOptionsGetters"],[7,27,1,13],[7,30,1,13,"useOptionsGetters"],[7,47,1,13],[8,2,3,0],[8,6,3,0,"React"],[8,11,3,0],[8,14,3,0,"_interopRequireWildcard"],[8,37,3,0],[8,38,3,0,"require"],[8,45,3,0],[8,46,3,0,"_dependencyMap"],[8,60,3,0],[9,2,4,0],[9,6,4,0,"_NavigationBuilderContext"],[9,31,4,0],[9,34,4,0,"require"],[9,41,4,0],[9,42,4,0,"_dependencyMap"],[9,56,4,0],[10,2,5,0],[10,6,5,0,"_NavigationStateContext"],[10,29,5,0],[10,32,5,0,"require"],[10,39,5,0],[10,40,5,0,"_dependencyMap"],[10,54,5,0],[11,2,5,69],[11,11,5,69,"_getRequireWildcardCache"],[11,36,5,69,"e"],[11,37,5,69],[11,66,5,69,"WeakMap"],[11,73,5,69],[11,92,5,69,"r"],[11,93,5,69],[11,100,5,69,"WeakMap"],[11,107,5,69],[11,111,5,69,"t"],[11,112,5,69],[11,119,5,69,"WeakMap"],[11,126,5,69],[11,138,5,69,"_getRequireWildcardCache"],[11,162,5,69],[11,174,5,69,"_getRequireWildcardCache"],[11,175,5,69,"e"],[11,176,5,69],[11,187,5,69,"e"],[11,188,5,69],[11,191,5,69,"t"],[11,192,5,69],[11,195,5,69,"r"],[11,196,5,69],[11,201,5,69,"e"],[11,202,5,69],[12,2,5,69],[12,11,5,69,"_interopRequireWildcard"],[12,35,5,69,"e"],[12,36,5,69],[12,38,5,69,"r"],[12,39,5,69],[12,48,5,69,"r"],[12,49,5,69],[12,53,5,69,"e"],[12,54,5,69],[12,58,5,69,"e"],[12,59,5,69],[12,60,5,69,"__esModule"],[12,70,5,69],[12,79,5,69,"e"],[12,80,5,69],[12,95,5,69,"e"],[12,96,5,69],[12,119,5,69,"e"],[12,120,5,69],[12,145,5,69,"e"],[12,146,5,69],[12,157,5,69,"default"],[12,164,5,69],[12,166,5,69,"e"],[12,167,5,69],[12,175,5,69,"t"],[12,176,5,69],[12,179,5,69,"_getRequireWildcardCache"],[12,203,5,69],[12,204,5,69,"r"],[12,205,5,69],[12,212,5,69,"t"],[12,213,5,69],[12,217,5,69,"t"],[12,218,5,69],[12,219,5,69,"has"],[12,222,5,69],[12,223,5,69,"e"],[12,224,5,69],[12,234,5,69,"t"],[12,235,5,69],[12,236,5,69,"get"],[12,239,5,69],[12,240,5,69,"e"],[12,241,5,69],[12,248,5,69,"n"],[12,249,5,69],[12,254,5,69,"__proto__"],[12,263,5,69],[12,273,5,69,"a"],[12,274,5,69],[12,277,5,69,"Object"],[12,283,5,69],[12,284,5,69,"defineProperty"],[12,298,5,69],[12,302,5,69,"Object"],[12,308,5,69],[12,309,5,69,"getOwnPropertyDescriptor"],[12,333,5,69],[12,344,5,69,"u"],[12,345,5,69],[12,349,5,69,"e"],[12,350,5,69],[12,370,5,69,"u"],[12,371,5,69],[12,378,5,69,"hasOwnProperty"],[12,392,5,69],[12,393,5,69,"call"],[12,397,5,69],[12,398,5,69,"e"],[12,399,5,69],[12,401,5,69,"u"],[12,402,5,69],[12,411,5,69,"i"],[12,412,5,69],[12,415,5,69,"a"],[12,416,5,69],[12,419,5,69,"Object"],[12,425,5,69],[12,426,5,69,"getOwnPropertyDescriptor"],[12,450,5,69],[12,451,5,69,"e"],[12,452,5,69],[12,454,5,69,"u"],[12,455,5,69],[12,465,5,69,"i"],[12,466,5,69],[12,471,5,69,"i"],[12,472,5,69],[12,473,5,69,"get"],[12,476,5,69],[12,480,5,69,"i"],[12,481,5,69],[12,482,5,69,"set"],[12,485,5,69],[12,489,5,69,"Object"],[12,495,5,69],[12,496,5,69,"defineProperty"],[12,510,5,69],[12,511,5,69,"n"],[12,512,5,69],[12,514,5,69,"u"],[12,515,5,69],[12,517,5,69,"i"],[12,518,5,69],[12,522,5,69,"n"],[12,523,5,69],[12,524,5,69,"u"],[12,525,5,69],[12,529,5,69,"e"],[12,530,5,69],[12,531,5,69,"u"],[12,532,5,69],[12,544,5,69,"n"],[12,545,5,69],[12,546,5,69,"default"],[12,553,5,69],[12,556,5,69,"e"],[12,557,5,69],[12,559,5,69,"t"],[12,560,5,69],[12,564,5,69,"t"],[12,565,5,69],[12,566,5,69,"set"],[12,569,5,69],[12,570,5,69,"e"],[12,571,5,69],[12,573,5,69,"n"],[12,574,5,69],[12,577,5,69,"n"],[12,578,5,69],[13,2,6,7],[13,11,6,16,"useOptionsGetters"],[13,28,6,33,"useOptionsGetters"],[13,29,6,34],[14,4,7,2,"key"],[14,7,7,5],[15,4,8,2,"options"],[15,11,8,9],[16,4,9,2,"navigation"],[17,2,10,0],[17,3,10,1],[17,5,10,3],[18,4,11,2],[18,10,11,8,"optionsRef"],[18,20,11,18],[18,23,11,21,"React"],[18,28,11,26],[18,29,11,27,"useRef"],[18,35,11,33],[18,36,11,34,"options"],[18,43,11,41],[18,44,11,42],[19,4,12,2],[19,10,12,8,"optionsGettersFromChildRef"],[19,36,12,34],[19,39,12,37,"React"],[19,44,12,42],[19,45,12,43,"useRef"],[19,51,12,49],[19,52,12,50],[19,53,12,51],[19,54,12,52],[19,55,12,53],[20,4,13,2],[20,10,13,8],[21,6,14,4,"onOptionsChange"],[22,4,15,2],[22,5,15,3],[22,8,15,6,"React"],[22,13,15,11],[22,14,15,12,"useContext"],[22,24,15,22],[22,25,15,23,"NavigationBuilderContext"],[22,75,15,47],[22,76,15,48],[23,4,16,2],[23,10,16,8],[24,6,17,4,"addOptionsGetter"],[24,22,17,20],[24,24,17,22,"parentAddOptionsGetter"],[25,4,18,2],[25,5,18,3],[25,8,18,6,"React"],[25,13,18,11],[25,14,18,12,"useContext"],[25,24,18,22],[25,25,18,23,"NavigationStateContext"],[25,71,18,45],[25,72,18,46],[26,4,19,2],[26,10,19,8,"optionsChangeListener"],[26,31,19,29],[26,34,19,32,"React"],[26,39,19,37],[26,40,19,38,"useCallback"],[26,51,19,49],[26,52,19,50],[26,58,19,56],[27,6,20,4],[27,12,20,10,"isFocused"],[27,21,20,19],[27,24,20,22,"navigation"],[27,34,20,32],[27,36,20,34,"isFocused"],[27,45,20,43],[27,46,20,44],[27,47,20,45],[27,51,20,49],[27,55,20,53],[28,6,21,4],[28,12,21,10,"hasChildren"],[28,23,21,21],[28,26,21,24,"Object"],[28,32,21,30],[28,33,21,31,"keys"],[28,37,21,35],[28,38,21,36,"optionsGettersFromChildRef"],[28,64,21,62],[28,65,21,63,"current"],[28,72,21,70],[28,73,21,71],[28,74,21,72,"length"],[28,80,21,78],[29,6,22,4],[29,10,22,8,"isFocused"],[29,19,22,17],[29,23,22,21],[29,24,22,22,"hasChildren"],[29,35,22,33],[29,37,22,35],[30,8,23,6,"onOptionsChange"],[30,23,23,21],[30,24,23,22,"optionsRef"],[30,34,23,32],[30,35,23,33,"current"],[30,42,23,40],[30,46,23,44],[30,47,23,45],[30,48,23,46],[30,49,23,47],[31,6,24,4],[32,4,25,2],[32,5,25,3],[32,7,25,5],[32,8,25,6,"navigation"],[32,18,25,16],[32,20,25,18,"onOptionsChange"],[32,35,25,33],[32,36,25,34],[32,37,25,35],[33,4,26,2,"React"],[33,9,26,7],[33,10,26,8,"useEffect"],[33,19,26,17],[33,20,26,18],[33,26,26,24],[34,6,27,4,"optionsRef"],[34,16,27,14],[34,17,27,15,"current"],[34,24,27,22],[34,27,27,25,"options"],[34,34,27,32],[35,6,28,4,"optionsChangeListener"],[35,27,28,25],[35,28,28,26],[35,29,28,27],[36,6,29,4],[36,13,29,11,"navigation"],[36,23,29,21],[36,25,29,23,"addListener"],[36,36,29,34],[36,37,29,35],[36,44,29,42],[36,46,29,44,"optionsChangeListener"],[36,67,29,65],[36,68,29,66],[37,4,30,2],[37,5,30,3],[37,7,30,5],[37,8,30,6,"navigation"],[37,18,30,16],[37,20,30,18,"options"],[37,27,30,25],[37,29,30,27,"optionsChangeListener"],[37,50,30,48],[37,51,30,49],[37,52,30,50],[38,4,31,2],[38,10,31,8,"getOptionsFromListener"],[38,32,31,30],[38,35,31,33,"React"],[38,40,31,38],[38,41,31,39,"useCallback"],[38,52,31,50],[38,53,31,51],[38,59,31,57],[39,6,32,4],[39,11,32,9],[39,17,32,15,"key"],[39,20,32,18],[39,24,32,22,"optionsGettersFromChildRef"],[39,50,32,48],[39,51,32,49,"current"],[39,58,32,56],[39,60,32,58],[40,8,33,6],[40,12,33,10,"key"],[40,15,33,13],[40,19,33,17,"optionsGettersFromChildRef"],[40,45,33,43],[40,46,33,44,"current"],[40,53,33,51],[40,55,33,53],[41,10,34,8],[41,16,34,14,"result"],[41,22,34,20],[41,25,34,23,"optionsGettersFromChildRef"],[41,51,34,49],[41,52,34,50,"current"],[41,59,34,57],[41,60,34,58,"key"],[41,63,34,61],[41,64,34,62],[41,67,34,65],[41,68,34,66],[43,10,36,8],[44,10,37,8],[44,14,37,12,"result"],[44,20,37,18],[44,25,37,23],[44,29,37,27],[44,31,37,29],[45,12,38,10],[45,19,38,17,"result"],[45,25,38,23],[46,10,39,8],[47,8,40,6],[48,6,41,4],[49,6,42,4],[49,13,42,11],[49,17,42,15],[50,4,43,2],[50,5,43,3],[50,7,43,5],[50,9,43,7],[50,10,43,8],[51,4,44,2],[51,10,44,8,"getCurrentOptions"],[51,27,44,25],[51,30,44,28,"React"],[51,35,44,33],[51,36,44,34,"useCallback"],[51,47,44,45],[51,48,44,46],[51,54,44,52],[52,6,45,4],[52,12,45,10,"isFocused"],[52,21,45,19],[52,24,45,22,"navigation"],[52,34,45,32],[52,36,45,34,"isFocused"],[52,45,45,43],[52,46,45,44],[52,47,45,45],[52,51,45,49],[52,55,45,53],[53,6,46,4],[53,10,46,8],[53,11,46,9,"isFocused"],[53,20,46,18],[53,22,46,20],[54,8,47,6],[54,15,47,13],[54,19,47,17],[55,6,48,4],[56,6,49,4],[56,12,49,10,"optionsFromListener"],[56,31,49,29],[56,34,49,32,"getOptionsFromListener"],[56,56,49,54],[56,57,49,55],[56,58,49,56],[57,6,50,4],[57,10,50,8,"optionsFromListener"],[57,29,50,27],[57,34,50,32],[57,38,50,36],[57,40,50,38],[58,8,51,6],[58,15,51,13,"optionsFromListener"],[58,34,51,32],[59,6,52,4],[60,6,53,4],[60,13,53,11,"optionsRef"],[60,23,53,21],[60,24,53,22,"current"],[60,31,53,29],[61,4,54,2],[61,5,54,3],[61,7,54,5],[61,8,54,6,"navigation"],[61,18,54,16],[61,20,54,18,"getOptionsFromListener"],[61,42,54,40],[61,43,54,41],[61,44,54,42],[62,4,55,2,"React"],[62,9,55,7],[62,10,55,8,"useEffect"],[62,19,55,17],[62,20,55,18],[62,26,55,24],[63,6,56,4],[63,13,56,11,"parentAddOptionsGetter"],[63,35,56,33],[63,38,56,36,"key"],[63,41,56,39],[63,43,56,41,"getCurrentOptions"],[63,60,56,58],[63,61,56,59],[64,4,57,2],[64,5,57,3],[64,7,57,5],[64,8,57,6,"getCurrentOptions"],[64,25,57,23],[64,27,57,25,"parentAddOptionsGetter"],[64,49,57,47],[64,51,57,49,"key"],[64,54,57,52],[64,55,57,53],[64,56,57,54],[65,4,58,2],[65,10,58,8,"addOptionsGetter"],[65,26,58,24],[65,29,58,27,"React"],[65,34,58,32],[65,35,58,33,"useCallback"],[65,46,58,44],[65,47,58,45],[65,48,58,46,"key"],[65,51,58,49],[65,53,58,51,"getter"],[65,59,58,57],[65,64,58,62],[66,6,59,4,"optionsGettersFromChildRef"],[66,32,59,30],[66,33,59,31,"current"],[66,40,59,38],[66,41,59,39,"key"],[66,44,59,42],[66,45,59,43],[66,48,59,46,"getter"],[66,54,59,52],[67,6,60,4,"optionsChangeListener"],[67,27,60,25],[67,28,60,26],[67,29,60,27],[68,6,61,4],[68,13,61,11],[68,19,61,17],[69,8,62,6],[70,8,63,6],[70,15,63,13,"optionsGettersFromChildRef"],[70,41,63,39],[70,42,63,40,"current"],[70,49,63,47],[70,50,63,48,"key"],[70,53,63,51],[70,54,63,52],[71,8,64,6,"optionsChangeListener"],[71,29,64,27],[71,30,64,28],[71,31,64,29],[72,6,65,4],[72,7,65,5],[73,4,66,2],[73,5,66,3],[73,7,66,5],[73,8,66,6,"optionsChangeListener"],[73,29,66,27],[73,30,66,28],[73,31,66,29],[74,4,67,2],[74,11,67,9],[75,6,68,4,"addOptionsGetter"],[75,22,68,20],[76,6,69,4,"getCurrentOptions"],[77,4,70,2],[77,5,70,3],[78,2,71,0],[79,0,71,1],[79,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;OCK;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"}},"type":"js/module"}]}