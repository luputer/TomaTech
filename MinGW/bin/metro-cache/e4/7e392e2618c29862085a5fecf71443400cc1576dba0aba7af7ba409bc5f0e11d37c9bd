{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":62,"column":41,"index":2074}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"@babel/runtime/helpers/objectWithoutPropertiesLoose","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":62,"column":41,"index":2074}}],"key":"AkVSdHsy9g0oRbtVtdfz2QwrA14="}},{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./isRecordEqual.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":51,"index":98}}],"key":"r92Pd29+9uUvlHu+K/XAzxqzFrQ="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CHILD_STATE = void 0;\n  exports.useRouteCache = useRouteCache;\n  var _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(_dependencyMap[1], \"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n  var React = _interopRequireWildcard(require(_dependencyMap[2], \"react\"));\n  var _isRecordEqual = require(_dependencyMap[3], \"./isRecordEqual.js\");\n  const _excluded = [\"state\"];\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  /**\n   * Utilities such as `getFocusedRouteNameFromRoute` need to access state.\n   * So we need a way to suppress the warning for those use cases.\n   * This is fine since they are internal utilities and this is not public API.\n   */\n  const CHILD_STATE = exports.CHILD_STATE = Symbol('CHILD_STATE');\n\n  /**\n   * Hook to cache route props for each screen in the navigator.\n   * This lets add warnings and modifications to the route object but keep references between renders.\n   */\n  function useRouteCache(routes) {\n    // Cache object which holds route objects for each screen\n    const cache = React.useMemo(() => ({\n      current: new Map()\n    }), []);\n    if (process.env.NODE_ENV === 'production') {\n      // We don't want the overhead of creating extra maps every render in prod\n      return routes;\n    }\n    cache.current = routes.reduce((acc, route) => {\n      const previous = cache.current.get(route.key);\n      const {\n          state\n        } = route,\n        routeWithoutState = (0, _objectWithoutPropertiesLoose2.default)(route, _excluded);\n      let proxy;\n      if (previous && (0, _isRecordEqual.isRecordEqual)(previous, routeWithoutState)) {\n        // If a cached route object already exists, reuse it\n        proxy = previous;\n      } else {\n        proxy = routeWithoutState;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        // FIXME: since the state is updated with mutation, the route object cannot be frozen\n        // As a workaround, loop through the object and make the properties readonly\n        for (const key in proxy) {\n          // @ts-expect-error: this is fine since we are looping through the object\n          const value = proxy[key];\n          Object.defineProperty(proxy, key, {\n            enumerable: true,\n            configurable: true,\n            writable: false,\n            value\n          });\n        }\n      }\n      Object.defineProperty(proxy, CHILD_STATE, {\n        enumerable: false,\n        configurable: true,\n        value: state\n      });\n      acc.set(route.key, proxy);\n      return acc;\n    }, new Map());\n    return Array.from(cache.current.values());\n  }\n});","lineCount":73,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"CHILD_STATE"],[8,21,1,13],[9,2,1,13,"exports"],[9,9,1,13],[9,10,1,13,"useRouteCache"],[9,23,1,13],[9,26,1,13,"useRouteCache"],[9,39,1,13],[10,2,1,13],[10,6,1,13,"_objectWithoutPropertiesLoose2"],[10,36,1,13],[10,39,1,13,"_interopRequireDefault"],[10,61,1,13],[10,62,1,13,"require"],[10,69,1,13],[10,70,1,13,"_dependencyMap"],[10,84,1,13],[11,2,3,0],[11,6,3,0,"React"],[11,11,3,0],[11,14,3,0,"_interopRequireWildcard"],[11,37,3,0],[11,38,3,0,"require"],[11,45,3,0],[11,46,3,0,"_dependencyMap"],[11,60,3,0],[12,2,4,0],[12,6,4,0,"_isRecordEqual"],[12,20,4,0],[12,23,4,0,"require"],[12,30,4,0],[12,31,4,0,"_dependencyMap"],[12,45,4,0],[13,2,4,51],[13,8,4,51,"_excluded"],[13,17,4,51],[14,2,4,51],[14,11,4,51,"_getRequireWildcardCache"],[14,36,4,51,"e"],[14,37,4,51],[14,66,4,51,"WeakMap"],[14,73,4,51],[14,92,4,51,"r"],[14,93,4,51],[14,100,4,51,"WeakMap"],[14,107,4,51],[14,111,4,51,"t"],[14,112,4,51],[14,119,4,51,"WeakMap"],[14,126,4,51],[14,138,4,51,"_getRequireWildcardCache"],[14,162,4,51],[14,174,4,51,"_getRequireWildcardCache"],[14,175,4,51,"e"],[14,176,4,51],[14,187,4,51,"e"],[14,188,4,51],[14,191,4,51,"t"],[14,192,4,51],[14,195,4,51,"r"],[14,196,4,51],[14,201,4,51,"e"],[14,202,4,51],[15,2,4,51],[15,11,4,51,"_interopRequireWildcard"],[15,35,4,51,"e"],[15,36,4,51],[15,38,4,51,"r"],[15,39,4,51],[15,48,4,51,"r"],[15,49,4,51],[15,53,4,51,"e"],[15,54,4,51],[15,58,4,51,"e"],[15,59,4,51],[15,60,4,51,"__esModule"],[15,70,4,51],[15,79,4,51,"e"],[15,80,4,51],[15,95,4,51,"e"],[15,96,4,51],[15,119,4,51,"e"],[15,120,4,51],[15,145,4,51,"e"],[15,146,4,51],[15,157,4,51,"default"],[15,164,4,51],[15,166,4,51,"e"],[15,167,4,51],[15,175,4,51,"t"],[15,176,4,51],[15,179,4,51,"_getRequireWildcardCache"],[15,203,4,51],[15,204,4,51,"r"],[15,205,4,51],[15,212,4,51,"t"],[15,213,4,51],[15,217,4,51,"t"],[15,218,4,51],[15,219,4,51,"has"],[15,222,4,51],[15,223,4,51,"e"],[15,224,4,51],[15,234,4,51,"t"],[15,235,4,51],[15,236,4,51,"get"],[15,239,4,51],[15,240,4,51,"e"],[15,241,4,51],[15,248,4,51,"n"],[15,249,4,51],[15,254,4,51,"__proto__"],[15,263,4,51],[15,273,4,51,"a"],[15,274,4,51],[15,277,4,51,"Object"],[15,283,4,51],[15,284,4,51,"defineProperty"],[15,298,4,51],[15,302,4,51,"Object"],[15,308,4,51],[15,309,4,51,"getOwnPropertyDescriptor"],[15,333,4,51],[15,344,4,51,"u"],[15,345,4,51],[15,349,4,51,"e"],[15,350,4,51],[15,370,4,51,"u"],[15,371,4,51],[15,378,4,51,"hasOwnProperty"],[15,392,4,51],[15,393,4,51,"call"],[15,397,4,51],[15,398,4,51,"e"],[15,399,4,51],[15,401,4,51,"u"],[15,402,4,51],[15,411,4,51,"i"],[15,412,4,51],[15,415,4,51,"a"],[15,416,4,51],[15,419,4,51,"Object"],[15,425,4,51],[15,426,4,51,"getOwnPropertyDescriptor"],[15,450,4,51],[15,451,4,51,"e"],[15,452,4,51],[15,454,4,51,"u"],[15,455,4,51],[15,465,4,51,"i"],[15,466,4,51],[15,471,4,51,"i"],[15,472,4,51],[15,473,4,51,"get"],[15,476,4,51],[15,480,4,51,"i"],[15,481,4,51],[15,482,4,51,"set"],[15,485,4,51],[15,489,4,51,"Object"],[15,495,4,51],[15,496,4,51,"defineProperty"],[15,510,4,51],[15,511,4,51,"n"],[15,512,4,51],[15,514,4,51,"u"],[15,515,4,51],[15,517,4,51,"i"],[15,518,4,51],[15,522,4,51,"n"],[15,523,4,51],[15,524,4,51,"u"],[15,525,4,51],[15,529,4,51,"e"],[15,530,4,51],[15,531,4,51,"u"],[15,532,4,51],[15,544,4,51,"n"],[15,545,4,51],[15,546,4,51,"default"],[15,553,4,51],[15,556,4,51,"e"],[15,557,4,51],[15,559,4,51,"t"],[15,560,4,51],[15,564,4,51,"t"],[15,565,4,51],[15,566,4,51,"set"],[15,569,4,51],[15,570,4,51,"e"],[15,571,4,51],[15,573,4,51,"n"],[15,574,4,51],[15,577,4,51,"n"],[15,578,4,51],[16,2,5,0],[17,0,6,0],[18,0,7,0],[19,0,8,0],[20,0,9,0],[21,2,10,7],[21,8,10,13,"CHILD_STATE"],[21,19,10,24],[21,22,10,24,"exports"],[21,29,10,24],[21,30,10,24,"CHILD_STATE"],[21,41,10,24],[21,44,10,27,"Symbol"],[21,50,10,33],[21,51,10,34],[21,64,10,47],[21,65,10,48],[23,2,12,0],[24,0,13,0],[25,0,14,0],[26,0,15,0],[27,2,16,7],[27,11,16,16,"useRouteCache"],[27,24,16,29,"useRouteCache"],[27,25,16,30,"routes"],[27,31,16,36],[27,33,16,38],[28,4,17,2],[29,4,18,2],[29,10,18,8,"cache"],[29,15,18,13],[29,18,18,16,"React"],[29,23,18,21],[29,24,18,22,"useMemo"],[29,31,18,29],[29,32,18,30],[29,39,18,37],[30,6,19,4,"current"],[30,13,19,11],[30,15,19,13],[30,19,19,17,"Map"],[30,22,19,20],[30,23,19,21],[31,4,20,2],[31,5,20,3],[31,6,20,4],[31,8,20,6],[31,10,20,8],[31,11,20,9],[32,4,21,2],[32,8,21,6,"process"],[32,15,21,13],[32,16,21,14,"env"],[32,19,21,17],[32,20,21,18,"NODE_ENV"],[32,28,21,26],[32,33,21,31],[32,45,21,43],[32,47,21,45],[33,6,22,4],[34,6,23,4],[34,13,23,11,"routes"],[34,19,23,17],[35,4,24,2],[36,4,25,2,"cache"],[36,9,25,7],[36,10,25,8,"current"],[36,17,25,15],[36,20,25,18,"routes"],[36,26,25,24],[36,27,25,25,"reduce"],[36,33,25,31],[36,34,25,32],[36,35,25,33,"acc"],[36,38,25,36],[36,40,25,38,"route"],[36,45,25,43],[36,50,25,48],[37,6,26,4],[37,12,26,10,"previous"],[37,20,26,18],[37,23,26,21,"cache"],[37,28,26,26],[37,29,26,27,"current"],[37,36,26,34],[37,37,26,35,"get"],[37,40,26,38],[37,41,26,39,"route"],[37,46,26,44],[37,47,26,45,"key"],[37,50,26,48],[37,51,26,49],[38,6,27,4],[38,12,27,10],[39,10,28,6,"state"],[40,8,30,4],[40,9,30,5],[40,12,30,8,"route"],[40,17,30,13],[41,8,29,9,"routeWithoutState"],[41,25,29,26],[41,32,29,26,"_objectWithoutPropertiesLoose2"],[41,62,29,26],[41,63,29,26,"default"],[41,70,29,26],[41,72,30,8,"route"],[41,77,30,13],[41,79,30,13,"_excluded"],[41,88,30,13],[42,6,31,4],[42,10,31,8,"proxy"],[42,15,31,13],[43,6,32,4],[43,10,32,8,"previous"],[43,18,32,16],[43,22,32,20],[43,26,32,20,"isRecordEqual"],[43,54,32,33],[43,56,32,34,"previous"],[43,64,32,42],[43,66,32,44,"routeWithoutState"],[43,83,32,61],[43,84,32,62],[43,86,32,64],[44,8,33,6],[45,8,34,6,"proxy"],[45,13,34,11],[45,16,34,14,"previous"],[45,24,34,22],[46,6,35,4],[46,7,35,5],[46,13,35,11],[47,8,36,6,"proxy"],[47,13,36,11],[47,16,36,14,"routeWithoutState"],[47,33,36,31],[48,6,37,4],[49,6,38,4],[49,10,38,8,"process"],[49,17,38,15],[49,18,38,16,"env"],[49,21,38,19],[49,22,38,20,"NODE_ENV"],[49,30,38,28],[49,35,38,33],[49,47,38,45],[49,49,38,47],[50,8,39,6],[51,8,40,6],[52,8,41,6],[52,13,41,11],[52,19,41,17,"key"],[52,22,41,20],[52,26,41,24,"proxy"],[52,31,41,29],[52,33,41,31],[53,10,42,8],[54,10,43,8],[54,16,43,14,"value"],[54,21,43,19],[54,24,43,22,"proxy"],[54,29,43,27],[54,30,43,28,"key"],[54,33,43,31],[54,34,43,32],[55,10,44,8,"Object"],[55,16,44,14],[55,17,44,15,"defineProperty"],[55,31,44,29],[55,32,44,30,"proxy"],[55,37,44,35],[55,39,44,37,"key"],[55,42,44,40],[55,44,44,42],[56,12,45,10,"enumerable"],[56,22,45,20],[56,24,45,22],[56,28,45,26],[57,12,46,10,"configurable"],[57,24,46,22],[57,26,46,24],[57,30,46,28],[58,12,47,10,"writable"],[58,20,47,18],[58,22,47,20],[58,27,47,25],[59,12,48,10,"value"],[60,10,49,8],[60,11,49,9],[60,12,49,10],[61,8,50,6],[62,6,51,4],[63,6,52,4,"Object"],[63,12,52,10],[63,13,52,11,"defineProperty"],[63,27,52,25],[63,28,52,26,"proxy"],[63,33,52,31],[63,35,52,33,"CHILD_STATE"],[63,46,52,44],[63,48,52,46],[64,8,53,6,"enumerable"],[64,18,53,16],[64,20,53,18],[64,25,53,23],[65,8,54,6,"configurable"],[65,20,54,18],[65,22,54,20],[65,26,54,24],[66,8,55,6,"value"],[66,13,55,11],[66,15,55,13,"state"],[67,6,56,4],[67,7,56,5],[67,8,56,6],[68,6,57,4,"acc"],[68,9,57,7],[68,10,57,8,"set"],[68,13,57,11],[68,14,57,12,"route"],[68,19,57,17],[68,20,57,18,"key"],[68,23,57,21],[68,25,57,23,"proxy"],[68,30,57,28],[68,31,57,29],[69,6,58,4],[69,13,58,11,"acc"],[69,16,58,14],[70,4,59,2],[70,5,59,3],[70,7,59,5],[70,11,59,9,"Map"],[70,14,59,12],[70,15,59,13],[70,16,59,14],[70,17,59,15],[71,4,60,2],[71,11,60,9,"Array"],[71,16,60,14],[71,17,60,15,"from"],[71,21,60,19],[71,22,60,20,"cache"],[71,27,60,25],[71,28,60,26,"current"],[71,35,60,33],[71,36,60,34,"values"],[71,42,60,40],[71,43,60,41],[71,44,60,42],[71,45,60,43],[72,2,61,0],[73,0,61,1],[73,3]],"functionMap":{"names":["<global>","useRouteCache","React.useMemo$argument_0","routes.reduce$argument_0"],"mappings":"AAA;OCe;8BCE;IDE;gCEK;GFkC;CDE"}},"type":"js/module"}]}