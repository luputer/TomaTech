{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":45,"column":0,"index":1235}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"./speedometer.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":43,"index":43}}],"key":"1yjlN6p+vj5Dapl/RPkF83FiJ+E="}},{"name":"./throttle.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":2,"column":0,"index":44},"end":{"line":2,"column":37,"index":81}}],"key":"C0WiGh1GpkDqk7j40xgOS4AXOHk="}},{"name":"../utils.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":82},"end":{"line":3,"column":32,"index":114}}],"key":"5SIJZRlEf6fRcwfLtWv3zxHqd7U="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.progressEventReducer = exports.progressEventDecorator = exports.asyncDecorator = void 0;\n  var _speedometer2 = _interopRequireDefault(require(_dependencyMap[1], \"./speedometer.js\"));\n  var _throttle = _interopRequireDefault(require(_dependencyMap[2], \"./throttle.js\"));\n  var _utils = _interopRequireDefault(require(_dependencyMap[3], \"../utils.js\"));\n  var progressEventReducer = function (listener, isDownloadStream) {\n    var freq = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 3;\n    var bytesNotified = 0;\n    var _speedometer = (0, _speedometer2.default)(50, 250);\n    return (0, _throttle.default)(e => {\n      var loaded = e.loaded;\n      var total = e.lengthComputable ? e.total : undefined;\n      var progressBytes = loaded - bytesNotified;\n      var rate = _speedometer(progressBytes);\n      var inRange = loaded <= total;\n      bytesNotified = loaded;\n      var data = {\n        loaded,\n        total,\n        progress: total ? loaded / total : undefined,\n        bytes: progressBytes,\n        rate: rate ? rate : undefined,\n        estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n        event: e,\n        lengthComputable: total != null,\n        [isDownloadStream ? 'download' : 'upload']: true\n      };\n      listener(data);\n    }, freq);\n  };\n  exports.progressEventReducer = progressEventReducer;\n  var progressEventDecorator = (total, throttled) => {\n    var lengthComputable = total != null;\n    return [loaded => throttled[0]({\n      lengthComputable,\n      total,\n      loaded\n    }), throttled[1]];\n  };\n  exports.progressEventDecorator = progressEventDecorator;\n  var asyncDecorator = fn => function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    return _utils.default.asap(() => fn(...args));\n  };\n  exports.asyncDecorator = asyncDecorator;\n});","lineCount":52,"map":[[7,2,1,0],[7,6,1,0,"_speedometer2"],[7,19,1,0],[7,22,1,0,"_interopRequireDefault"],[7,44,1,0],[7,45,1,0,"require"],[7,52,1,0],[7,53,1,0,"_dependencyMap"],[7,67,1,0],[8,2,2,0],[8,6,2,0,"_throttle"],[8,15,2,0],[8,18,2,0,"_interopRequireDefault"],[8,40,2,0],[8,41,2,0,"require"],[8,48,2,0],[8,49,2,0,"_dependencyMap"],[8,63,2,0],[9,2,3,0],[9,6,3,0,"_utils"],[9,12,3,0],[9,15,3,0,"_interopRequireDefault"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,5,7],[10,6,5,13,"progressEventReducer"],[10,26,5,33],[10,29,5,36],[10,38,5,36,"progressEventReducer"],[10,39,5,37,"listener"],[10,47,5,45],[10,49,5,47,"isDownloadStream"],[10,65,5,63],[10,67,5,78],[11,4,5,78],[11,8,5,65,"freq"],[11,12,5,69],[11,15,5,69,"arguments"],[11,24,5,69],[11,25,5,69,"length"],[11,31,5,69],[11,39,5,69,"arguments"],[11,48,5,69],[11,56,5,69,"undefined"],[11,65,5,69],[11,68,5,69,"arguments"],[11,77,5,69],[11,83,5,72],[11,84,5,73],[12,4,6,2],[12,8,6,6,"bytesNotified"],[12,21,6,19],[12,24,6,22],[12,25,6,23],[13,4,7,2],[13,8,7,8,"_speedometer"],[13,20,7,20],[13,23,7,23],[13,27,7,23,"speedometer"],[13,48,7,34],[13,50,7,35],[13,52,7,37],[13,54,7,39],[13,57,7,42],[13,58,7,43],[14,4,9,2],[14,11,9,9],[14,15,9,9,"throttle"],[14,32,9,17],[14,34,9,18,"e"],[14,35,9,19],[14,39,9,23],[15,6,10,4],[15,10,10,10,"loaded"],[15,16,10,16],[15,19,10,19,"e"],[15,20,10,20],[15,21,10,21,"loaded"],[15,27,10,27],[16,6,11,4],[16,10,11,10,"total"],[16,15,11,15],[16,18,11,18,"e"],[16,19,11,19],[16,20,11,20,"lengthComputable"],[16,36,11,36],[16,39,11,39,"e"],[16,40,11,40],[16,41,11,41,"total"],[16,46,11,46],[16,49,11,49,"undefined"],[16,58,11,58],[17,6,12,4],[17,10,12,10,"progressBytes"],[17,23,12,23],[17,26,12,26,"loaded"],[17,32,12,32],[17,35,12,35,"bytesNotified"],[17,48,12,48],[18,6,13,4],[18,10,13,10,"rate"],[18,14,13,14],[18,17,13,17,"_speedometer"],[18,29,13,29],[18,30,13,30,"progressBytes"],[18,43,13,43],[18,44,13,44],[19,6,14,4],[19,10,14,10,"inRange"],[19,17,14,17],[19,20,14,20,"loaded"],[19,26,14,26],[19,30,14,30,"total"],[19,35,14,35],[20,6,16,4,"bytesNotified"],[20,19,16,17],[20,22,16,20,"loaded"],[20,28,16,26],[21,6,18,4],[21,10,18,10,"data"],[21,14,18,14],[21,17,18,17],[22,8,19,6,"loaded"],[22,14,19,12],[23,8,20,6,"total"],[23,13,20,11],[24,8,21,6,"progress"],[24,16,21,14],[24,18,21,16,"total"],[24,23,21,21],[24,26,21,25,"loaded"],[24,32,21,31],[24,35,21,34,"total"],[24,40,21,39],[24,43,21,43,"undefined"],[24,52,21,52],[25,8,22,6,"bytes"],[25,13,22,11],[25,15,22,13,"progressBytes"],[25,28,22,26],[26,8,23,6,"rate"],[26,12,23,10],[26,14,23,12,"rate"],[26,18,23,16],[26,21,23,19,"rate"],[26,25,23,23],[26,28,23,26,"undefined"],[26,37,23,35],[27,8,24,6,"estimated"],[27,17,24,15],[27,19,24,17,"rate"],[27,23,24,21],[27,27,24,25,"total"],[27,32,24,30],[27,36,24,34,"inRange"],[27,43,24,41],[27,46,24,44],[27,47,24,45,"total"],[27,52,24,50],[27,55,24,53,"loaded"],[27,61,24,59],[27,65,24,63,"rate"],[27,69,24,67],[27,72,24,70,"undefined"],[27,81,24,79],[28,8,25,6,"event"],[28,13,25,11],[28,15,25,13,"e"],[28,16,25,14],[29,8,26,6,"lengthComputable"],[29,24,26,22],[29,26,26,24,"total"],[29,31,26,29],[29,35,26,33],[29,39,26,37],[30,8,27,6],[30,9,27,7,"isDownloadStream"],[30,25,27,23],[30,28,27,26],[30,38,27,36],[30,41,27,39],[30,49,27,47],[30,52,27,50],[31,6,28,4],[31,7,28,5],[32,6,30,4,"listener"],[32,14,30,12],[32,15,30,13,"data"],[32,19,30,17],[32,20,30,18],[33,4,31,2],[33,5,31,3],[33,7,31,5,"freq"],[33,11,31,9],[33,12,31,10],[34,2,32,0],[34,3,32,1],[35,2,32,1,"exports"],[35,9,32,1],[35,10,32,1,"progressEventReducer"],[35,30,32,1],[35,33,32,1,"progressEventReducer"],[35,53,32,1],[36,2,34,7],[36,6,34,13,"progressEventDecorator"],[36,28,34,35],[36,31,34,38,"progressEventDecorator"],[36,32,34,39,"total"],[36,37,34,44],[36,39,34,46,"throttled"],[36,48,34,55],[36,53,34,60],[37,4,35,2],[37,8,35,8,"lengthComputable"],[37,24,35,24],[37,27,35,27,"total"],[37,32,35,32],[37,36,35,36],[37,40,35,40],[38,4,37,2],[38,11,37,9],[38,12,37,11,"loaded"],[38,18,37,17],[38,22,37,22,"throttled"],[38,31,37,31],[38,32,37,32],[38,33,37,33],[38,34,37,34],[38,35,37,35],[39,6,38,4,"lengthComputable"],[39,22,38,20],[40,6,39,4,"total"],[40,11,39,9],[41,6,40,4,"loaded"],[42,4,41,2],[42,5,41,3],[42,6,41,4],[42,8,41,6,"throttled"],[42,17,41,15],[42,18,41,16],[42,19,41,17],[42,20,41,18],[42,21,41,19],[43,2,42,0],[43,3,42,1],[44,2,42,1,"exports"],[44,9,42,1],[44,10,42,1,"progressEventDecorator"],[44,32,42,1],[44,35,42,1,"progressEventDecorator"],[44,57,42,1],[45,2,44,7],[45,6,44,13,"asyncDecorator"],[45,20,44,27],[45,23,44,31,"fn"],[45,25,44,33],[45,29,44,38],[46,4,44,38],[46,13,44,38,"_len"],[46,17,44,38],[46,20,44,38,"arguments"],[46,29,44,38],[46,30,44,38,"length"],[46,36,44,38],[46,38,44,42,"args"],[46,42,44,46],[46,49,44,46,"Array"],[46,54,44,46],[46,55,44,46,"_len"],[46,59,44,46],[46,62,44,46,"_key"],[46,66,44,46],[46,72,44,46,"_key"],[46,76,44,46],[46,79,44,46,"_len"],[46,83,44,46],[46,85,44,46,"_key"],[46,89,44,46],[47,6,44,42,"args"],[47,10,44,46],[47,11,44,46,"_key"],[47,15,44,46],[47,19,44,46,"arguments"],[47,28,44,46],[47,29,44,46,"_key"],[47,33,44,46],[48,4,44,46],[49,4,44,46],[49,11,44,51,"utils"],[49,25,44,56],[49,26,44,57,"asap"],[49,30,44,61],[49,31,44,62],[49,37,44,68,"fn"],[49,39,44,70],[49,40,44,71],[49,43,44,74,"args"],[49,47,44,78],[49,48,44,79],[49,49,44,80],[50,2,44,80],[51,2,44,81,"exports"],[51,9,44,81],[51,10,44,81,"asyncDecorator"],[51,24,44,81],[51,27,44,81,"asyncDecorator"],[51,41,44,81],[52,0,44,81],[52,3]],"functionMap":{"names":["<global>","progressEventReducer","throttle$argument_0","progressEventDecorator","<anonymous>","asyncDecorator","utils.asap$argument_0"],"mappings":"AAA;oCCI;kBCI;GDsB;CDC;sCGE;UCG;IDI;CHC;8BKE,QD,wBE,iBF,CJ"}},"type":"js/module"}]}