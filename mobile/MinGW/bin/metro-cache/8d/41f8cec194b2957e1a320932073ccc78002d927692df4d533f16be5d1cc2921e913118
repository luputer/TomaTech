{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":80,"column":40,"index":2048}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"use-latest-callback","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":52,"index":99}}],"key":"Y37UDlHqFWGsIoaqIV2lsupH1AM="}},{"name":"./deepFreeze.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":0,"index":100},"end":{"line":5,"column":45,"index":145}}],"key":"gUWwtN3cGtPFA39/AfK87dLMoDw="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _interopRequireDefault = require(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useSyncState = useSyncState;\n  var React = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _useLatestCallback = _interopRequireDefault(require(_dependencyMap[2], \"use-latest-callback\"));\n  var _deepFreeze = require(_dependencyMap[3], \"./deepFreeze.js\");\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  const createStore = getInitialState => {\n    const listeners = [];\n    let initialized = false;\n    let state;\n    const getState = () => {\n      if (initialized) {\n        return state;\n      }\n      initialized = true;\n      state = (0, _deepFreeze.deepFreeze)(getInitialState());\n      return state;\n    };\n    let isBatching = false;\n    let didUpdate = false;\n    const setState = newState => {\n      state = (0, _deepFreeze.deepFreeze)(newState);\n      didUpdate = true;\n      if (!isBatching) {\n        listeners.forEach(listener => listener());\n      }\n    };\n    const subscribe = callback => {\n      listeners.push(callback);\n      return () => {\n        const index = listeners.indexOf(callback);\n        if (index > -1) {\n          listeners.splice(index, 1);\n        }\n      };\n    };\n    const batchUpdates = callback => {\n      isBatching = true;\n      callback();\n      isBatching = false;\n      if (didUpdate) {\n        didUpdate = false;\n        listeners.forEach(listener => listener());\n      }\n    };\n    return {\n      getState,\n      setState,\n      batchUpdates,\n      subscribe\n    };\n  };\n  function useSyncState(getInitialState) {\n    const store = React.useRef(createStore(getInitialState)).current;\n    const state = React.useSyncExternalStore(store.subscribe, store.getState, store.getState);\n    React.useDebugValue(state);\n    const pendingUpdatesRef = React.useRef([]);\n    const scheduleUpdate = (0, _useLatestCallback.default)(callback => {\n      pendingUpdatesRef.current.push(callback);\n    });\n    const flushUpdates = (0, _useLatestCallback.default)(() => {\n      const pendingUpdates = pendingUpdatesRef.current;\n      pendingUpdatesRef.current = [];\n      if (pendingUpdates.length !== 0) {\n        store.batchUpdates(() => {\n          // Flush all the pending updates\n          for (const update of pendingUpdates) {\n            update();\n          }\n        });\n      }\n    });\n    return {\n      state,\n      getState: store.getState,\n      setState: store.setState,\n      scheduleUpdate,\n      flushUpdates\n    };\n  }\n});","lineCount":88,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_interopRequireDefault"],[4,28,1,13],[4,31,1,13,"require"],[4,38,1,13],[4,39,1,13,"_dependencyMap"],[4,53,1,13],[5,2,1,13,"Object"],[5,8,1,13],[5,9,1,13,"defineProperty"],[5,23,1,13],[5,24,1,13,"exports"],[5,31,1,13],[6,4,1,13,"value"],[6,9,1,13],[7,2,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useSyncState"],[8,22,1,13],[8,25,1,13,"useSyncState"],[8,37,1,13],[9,2,3,0],[9,6,3,0,"React"],[9,11,3,0],[9,14,3,0,"_interopRequireWildcard"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,4,0],[10,6,4,0,"_useLatestCallback"],[10,24,4,0],[10,27,4,0,"_interopRequireDefault"],[10,49,4,0],[10,50,4,0,"require"],[10,57,4,0],[10,58,4,0,"_dependencyMap"],[10,72,4,0],[11,2,5,0],[11,6,5,0,"_deepFreeze"],[11,17,5,0],[11,20,5,0,"require"],[11,27,5,0],[11,28,5,0,"_dependencyMap"],[11,42,5,0],[12,2,5,45],[12,11,5,45,"_getRequireWildcardCache"],[12,36,5,45,"e"],[12,37,5,45],[12,66,5,45,"WeakMap"],[12,73,5,45],[12,92,5,45,"r"],[12,93,5,45],[12,100,5,45,"WeakMap"],[12,107,5,45],[12,111,5,45,"t"],[12,112,5,45],[12,119,5,45,"WeakMap"],[12,126,5,45],[12,138,5,45,"_getRequireWildcardCache"],[12,162,5,45],[12,174,5,45,"_getRequireWildcardCache"],[12,175,5,45,"e"],[12,176,5,45],[12,187,5,45,"e"],[12,188,5,45],[12,191,5,45,"t"],[12,192,5,45],[12,195,5,45,"r"],[12,196,5,45],[12,201,5,45,"e"],[12,202,5,45],[13,2,5,45],[13,11,5,45,"_interopRequireWildcard"],[13,35,5,45,"e"],[13,36,5,45],[13,38,5,45,"r"],[13,39,5,45],[13,48,5,45,"r"],[13,49,5,45],[13,53,5,45,"e"],[13,54,5,45],[13,58,5,45,"e"],[13,59,5,45],[13,60,5,45,"__esModule"],[13,70,5,45],[13,79,5,45,"e"],[13,80,5,45],[13,95,5,45,"e"],[13,96,5,45],[13,119,5,45,"e"],[13,120,5,45],[13,145,5,45,"e"],[13,146,5,45],[13,157,5,45,"default"],[13,164,5,45],[13,166,5,45,"e"],[13,167,5,45],[13,175,5,45,"t"],[13,176,5,45],[13,179,5,45,"_getRequireWildcardCache"],[13,203,5,45],[13,204,5,45,"r"],[13,205,5,45],[13,212,5,45,"t"],[13,213,5,45],[13,217,5,45,"t"],[13,218,5,45],[13,219,5,45,"has"],[13,222,5,45],[13,223,5,45,"e"],[13,224,5,45],[13,234,5,45,"t"],[13,235,5,45],[13,236,5,45,"get"],[13,239,5,45],[13,240,5,45,"e"],[13,241,5,45],[13,248,5,45,"n"],[13,249,5,45],[13,254,5,45,"__proto__"],[13,263,5,45],[13,273,5,45,"a"],[13,274,5,45],[13,277,5,45,"Object"],[13,283,5,45],[13,284,5,45,"defineProperty"],[13,298,5,45],[13,302,5,45,"Object"],[13,308,5,45],[13,309,5,45,"getOwnPropertyDescriptor"],[13,333,5,45],[13,344,5,45,"u"],[13,345,5,45],[13,349,5,45,"e"],[13,350,5,45],[13,370,5,45,"u"],[13,371,5,45],[13,378,5,45,"hasOwnProperty"],[13,392,5,45],[13,393,5,45,"call"],[13,397,5,45],[13,398,5,45,"e"],[13,399,5,45],[13,401,5,45,"u"],[13,402,5,45],[13,411,5,45,"i"],[13,412,5,45],[13,415,5,45,"a"],[13,416,5,45],[13,419,5,45,"Object"],[13,425,5,45],[13,426,5,45,"getOwnPropertyDescriptor"],[13,450,5,45],[13,451,5,45,"e"],[13,452,5,45],[13,454,5,45,"u"],[13,455,5,45],[13,465,5,45,"i"],[13,466,5,45],[13,471,5,45,"i"],[13,472,5,45],[13,473,5,45,"get"],[13,476,5,45],[13,480,5,45,"i"],[13,481,5,45],[13,482,5,45,"set"],[13,485,5,45],[13,489,5,45,"Object"],[13,495,5,45],[13,496,5,45,"defineProperty"],[13,510,5,45],[13,511,5,45,"n"],[13,512,5,45],[13,514,5,45,"u"],[13,515,5,45],[13,517,5,45,"i"],[13,518,5,45],[13,522,5,45,"n"],[13,523,5,45],[13,524,5,45,"u"],[13,525,5,45],[13,529,5,45,"e"],[13,530,5,45],[13,531,5,45,"u"],[13,532,5,45],[13,544,5,45,"n"],[13,545,5,45],[13,546,5,45,"default"],[13,553,5,45],[13,556,5,45,"e"],[13,557,5,45],[13,559,5,45,"t"],[13,560,5,45],[13,564,5,45,"t"],[13,565,5,45],[13,566,5,45,"set"],[13,569,5,45],[13,570,5,45,"e"],[13,571,5,45],[13,573,5,45,"n"],[13,574,5,45],[13,577,5,45,"n"],[13,578,5,45],[14,2,6,0],[14,8,6,6,"createStore"],[14,19,6,17],[14,22,6,20,"getInitialState"],[14,37,6,35],[14,41,6,39],[15,4,7,2],[15,10,7,8,"listeners"],[15,19,7,17],[15,22,7,20],[15,24,7,22],[16,4,8,2],[16,8,8,6,"initialized"],[16,19,8,17],[16,22,8,20],[16,27,8,25],[17,4,9,2],[17,8,9,6,"state"],[17,13,9,11],[18,4,10,2],[18,10,10,8,"getState"],[18,18,10,16],[18,21,10,19,"getState"],[18,22,10,19],[18,27,10,25],[19,6,11,4],[19,10,11,8,"initialized"],[19,21,11,19],[19,23,11,21],[20,8,12,6],[20,15,12,13,"state"],[20,20,12,18],[21,6,13,4],[22,6,14,4,"initialized"],[22,17,14,15],[22,20,14,18],[22,24,14,22],[23,6,15,4,"state"],[23,11,15,9],[23,14,15,12],[23,18,15,12,"deepFreeze"],[23,40,15,22],[23,42,15,23,"getInitialState"],[23,57,15,38],[23,58,15,39],[23,59,15,40],[23,60,15,41],[24,6,16,4],[24,13,16,11,"state"],[24,18,16,16],[25,4,17,2],[25,5,17,3],[26,4,18,2],[26,8,18,6,"isBatching"],[26,18,18,16],[26,21,18,19],[26,26,18,24],[27,4,19,2],[27,8,19,6,"didUpdate"],[27,17,19,15],[27,20,19,18],[27,25,19,23],[28,4,20,2],[28,10,20,8,"setState"],[28,18,20,16],[28,21,20,19,"newState"],[28,29,20,27],[28,33,20,31],[29,6,21,4,"state"],[29,11,21,9],[29,14,21,12],[29,18,21,12,"deepFreeze"],[29,40,21,22],[29,42,21,23,"newState"],[29,50,21,31],[29,51,21,32],[30,6,22,4,"didUpdate"],[30,15,22,13],[30,18,22,16],[30,22,22,20],[31,6,23,4],[31,10,23,8],[31,11,23,9,"isBatching"],[31,21,23,19],[31,23,23,21],[32,8,24,6,"listeners"],[32,17,24,15],[32,18,24,16,"forEach"],[32,25,24,23],[32,26,24,24,"listener"],[32,34,24,32],[32,38,24,36,"listener"],[32,46,24,44],[32,47,24,45],[32,48,24,46],[32,49,24,47],[33,6,25,4],[34,4,26,2],[34,5,26,3],[35,4,27,2],[35,10,27,8,"subscribe"],[35,19,27,17],[35,22,27,20,"callback"],[35,30,27,28],[35,34,27,32],[36,6,28,4,"listeners"],[36,15,28,13],[36,16,28,14,"push"],[36,20,28,18],[36,21,28,19,"callback"],[36,29,28,27],[36,30,28,28],[37,6,29,4],[37,13,29,11],[37,19,29,17],[38,8,30,6],[38,14,30,12,"index"],[38,19,30,17],[38,22,30,20,"listeners"],[38,31,30,29],[38,32,30,30,"indexOf"],[38,39,30,37],[38,40,30,38,"callback"],[38,48,30,46],[38,49,30,47],[39,8,31,6],[39,12,31,10,"index"],[39,17,31,15],[39,20,31,18],[39,21,31,19],[39,22,31,20],[39,24,31,22],[40,10,32,8,"listeners"],[40,19,32,17],[40,20,32,18,"splice"],[40,26,32,24],[40,27,32,25,"index"],[40,32,32,30],[40,34,32,32],[40,35,32,33],[40,36,32,34],[41,8,33,6],[42,6,34,4],[42,7,34,5],[43,4,35,2],[43,5,35,3],[44,4,36,2],[44,10,36,8,"batchUpdates"],[44,22,36,20],[44,25,36,23,"callback"],[44,33,36,31],[44,37,36,35],[45,6,37,4,"isBatching"],[45,16,37,14],[45,19,37,17],[45,23,37,21],[46,6,38,4,"callback"],[46,14,38,12],[46,15,38,13],[46,16,38,14],[47,6,39,4,"isBatching"],[47,16,39,14],[47,19,39,17],[47,24,39,22],[48,6,40,4],[48,10,40,8,"didUpdate"],[48,19,40,17],[48,21,40,19],[49,8,41,6,"didUpdate"],[49,17,41,15],[49,20,41,18],[49,25,41,23],[50,8,42,6,"listeners"],[50,17,42,15],[50,18,42,16,"forEach"],[50,25,42,23],[50,26,42,24,"listener"],[50,34,42,32],[50,38,42,36,"listener"],[50,46,42,44],[50,47,42,45],[50,48,42,46],[50,49,42,47],[51,6,43,4],[52,4,44,2],[52,5,44,3],[53,4,45,2],[53,11,45,9],[54,6,46,4,"getState"],[54,14,46,12],[55,6,47,4,"setState"],[55,14,47,12],[56,6,48,4,"batchUpdates"],[56,18,48,16],[57,6,49,4,"subscribe"],[58,4,50,2],[58,5,50,3],[59,2,51,0],[59,3,51,1],[60,2,52,7],[60,11,52,16,"useSyncState"],[60,23,52,28,"useSyncState"],[60,24,52,29,"getInitialState"],[60,39,52,44],[60,41,52,46],[61,4,53,2],[61,10,53,8,"store"],[61,15,53,13],[61,18,53,16,"React"],[61,23,53,21],[61,24,53,22,"useRef"],[61,30,53,28],[61,31,53,29,"createStore"],[61,42,53,40],[61,43,53,41,"getInitialState"],[61,58,53,56],[61,59,53,57],[61,60,53,58],[61,61,53,59,"current"],[61,68,53,66],[62,4,54,2],[62,10,54,8,"state"],[62,15,54,13],[62,18,54,16,"React"],[62,23,54,21],[62,24,54,22,"useSyncExternalStore"],[62,44,54,42],[62,45,54,43,"store"],[62,50,54,48],[62,51,54,49,"subscribe"],[62,60,54,58],[62,62,54,60,"store"],[62,67,54,65],[62,68,54,66,"getState"],[62,76,54,74],[62,78,54,76,"store"],[62,83,54,81],[62,84,54,82,"getState"],[62,92,54,90],[62,93,54,91],[63,4,55,2,"React"],[63,9,55,7],[63,10,55,8,"useDebugValue"],[63,23,55,21],[63,24,55,22,"state"],[63,29,55,27],[63,30,55,28],[64,4,56,2],[64,10,56,8,"pendingUpdatesRef"],[64,27,56,25],[64,30,56,28,"React"],[64,35,56,33],[64,36,56,34,"useRef"],[64,42,56,40],[64,43,56,41],[64,45,56,43],[64,46,56,44],[65,4,57,2],[65,10,57,8,"scheduleUpdate"],[65,24,57,22],[65,27,57,25],[65,31,57,25,"useLatestCallback"],[65,57,57,42],[65,59,57,43,"callback"],[65,67,57,51],[65,71,57,55],[66,6,58,4,"pendingUpdatesRef"],[66,23,58,21],[66,24,58,22,"current"],[66,31,58,29],[66,32,58,30,"push"],[66,36,58,34],[66,37,58,35,"callback"],[66,45,58,43],[66,46,58,44],[67,4,59,2],[67,5,59,3],[67,6,59,4],[68,4,60,2],[68,10,60,8,"flushUpdates"],[68,22,60,20],[68,25,60,23],[68,29,60,23,"useLatestCallback"],[68,55,60,40],[68,57,60,41],[68,63,60,47],[69,6,61,4],[69,12,61,10,"pendingUpdates"],[69,26,61,24],[69,29,61,27,"pendingUpdatesRef"],[69,46,61,44],[69,47,61,45,"current"],[69,54,61,52],[70,6,62,4,"pendingUpdatesRef"],[70,23,62,21],[70,24,62,22,"current"],[70,31,62,29],[70,34,62,32],[70,36,62,34],[71,6,63,4],[71,10,63,8,"pendingUpdates"],[71,24,63,22],[71,25,63,23,"length"],[71,31,63,29],[71,36,63,34],[71,37,63,35],[71,39,63,37],[72,8,64,6,"store"],[72,13,64,11],[72,14,64,12,"batchUpdates"],[72,26,64,24],[72,27,64,25],[72,33,64,31],[73,10,65,8],[74,10,66,8],[74,15,66,13],[74,21,66,19,"update"],[74,27,66,25],[74,31,66,29,"pendingUpdates"],[74,45,66,43],[74,47,66,45],[75,12,67,10,"update"],[75,18,67,16],[75,19,67,17],[75,20,67,18],[76,10,68,8],[77,8,69,6],[77,9,69,7],[77,10,69,8],[78,6,70,4],[79,4,71,2],[79,5,71,3],[79,6,71,4],[80,4,72,2],[80,11,72,9],[81,6,73,4,"state"],[81,11,73,9],[82,6,74,4,"getState"],[82,14,74,12],[82,16,74,14,"store"],[82,21,74,19],[82,22,74,20,"getState"],[82,30,74,28],[83,6,75,4,"setState"],[83,14,75,12],[83,16,75,14,"store"],[83,21,75,19],[83,22,75,20,"setState"],[83,30,75,28],[84,6,76,4,"scheduleUpdate"],[84,20,76,18],[85,6,77,4,"flushUpdates"],[86,4,78,2],[86,5,78,3],[87,2,79,0],[88,0,79,1],[88,3]],"functionMap":{"names":["<global>","createStore","getState","setState","listeners.forEach$argument_0","subscribe","<anonymous>","batchUpdates","useSyncState","useLatestCallback$argument_0","store.batchUpdates$argument_0"],"mappings":"AAA;oBCK;mBCI;GDO;mBEG;wBCI,sBD;GFE;oBIC;WCE;KDK;GJC;uBMC;wBHM,sBG;GNE;CDO;OQC;2CCK;GDE;yCCC;yBCI;ODK;GDE;CRQ"}},"type":"js/module"}]}