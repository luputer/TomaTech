{"dependencies":[{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./isRecordEqual.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":51,"index":98}}],"key":"r92Pd29+9uUvlHu+K/XAzxqzFrQ="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CHILD_STATE = void 0;\n  exports.useRouteCache = useRouteCache;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  var _isRecordEqual = require(_dependencyMap[1], \"./isRecordEqual.js\");\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  /**\n   * Utilities such as `getFocusedRouteNameFromRoute` need to access state.\n   * So we need a way to suppress the warning for those use cases.\n   * This is fine since they are internal utilities and this is not public API.\n   */\n  const CHILD_STATE = exports.CHILD_STATE = Symbol('CHILD_STATE');\n\n  /**\n   * Hook to cache route props for each screen in the navigator.\n   * This lets add warnings and modifications to the route object but keep references between renders.\n   */\n  function useRouteCache(routes) {\n    // Cache object which holds route objects for each screen\n    const cache = React.useMemo(() => ({\n      current: new Map()\n    }), []);\n    if (process.env.NODE_ENV === 'production') {\n      // We don't want the overhead of creating extra maps every render in prod\n      return routes;\n    }\n    cache.current = routes.reduce((acc, route) => {\n      const previous = cache.current.get(route.key);\n      const {\n        state,\n        ...routeWithoutState\n      } = route;\n      let proxy;\n      if (previous && (0, _isRecordEqual.isRecordEqual)(previous, routeWithoutState)) {\n        // If a cached route object already exists, reuse it\n        proxy = previous;\n      } else {\n        proxy = routeWithoutState;\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        // FIXME: since the state is updated with mutation, the route object cannot be frozen\n        // As a workaround, loop through the object and make the properties readonly\n        for (const key in proxy) {\n          // @ts-expect-error: this is fine since we are looping through the object\n          const value = proxy[key];\n          Object.defineProperty(proxy, key, {\n            enumerable: true,\n            configurable: true,\n            writable: false,\n            value\n          });\n        }\n      }\n      Object.defineProperty(proxy, CHILD_STATE, {\n        enumerable: false,\n        configurable: true,\n        value: state\n      });\n      acc.set(route.key, proxy);\n      return acc;\n    }, new Map());\n    return Array.from(cache.current.values());\n  }\n});","lineCount":70,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"CHILD_STATE"],[7,21,1,13],[8,2,1,13,"exports"],[8,9,1,13],[8,10,1,13,"useRouteCache"],[8,23,1,13],[8,26,1,13,"useRouteCache"],[8,39,1,13],[9,2,3,0],[9,6,3,0,"React"],[9,11,3,0],[9,14,3,0,"_interopRequireWildcard"],[9,37,3,0],[9,38,3,0,"require"],[9,45,3,0],[9,46,3,0,"_dependencyMap"],[9,60,3,0],[10,2,4,0],[10,6,4,0,"_isRecordEqual"],[10,20,4,0],[10,23,4,0,"require"],[10,30,4,0],[10,31,4,0,"_dependencyMap"],[10,45,4,0],[11,2,4,51],[11,11,4,51,"_getRequireWildcardCache"],[11,36,4,51,"e"],[11,37,4,51],[11,66,4,51,"WeakMap"],[11,73,4,51],[11,92,4,51,"r"],[11,93,4,51],[11,100,4,51,"WeakMap"],[11,107,4,51],[11,111,4,51,"t"],[11,112,4,51],[11,119,4,51,"WeakMap"],[11,126,4,51],[11,138,4,51,"_getRequireWildcardCache"],[11,162,4,51],[11,174,4,51,"_getRequireWildcardCache"],[11,175,4,51,"e"],[11,176,4,51],[11,187,4,51,"e"],[11,188,4,51],[11,191,4,51,"t"],[11,192,4,51],[11,195,4,51,"r"],[11,196,4,51],[11,201,4,51,"e"],[11,202,4,51],[12,2,4,51],[12,11,4,51,"_interopRequireWildcard"],[12,35,4,51,"e"],[12,36,4,51],[12,38,4,51,"r"],[12,39,4,51],[12,48,4,51,"r"],[12,49,4,51],[12,53,4,51,"e"],[12,54,4,51],[12,58,4,51,"e"],[12,59,4,51],[12,60,4,51,"__esModule"],[12,70,4,51],[12,79,4,51,"e"],[12,80,4,51],[12,95,4,51,"e"],[12,96,4,51],[12,119,4,51,"e"],[12,120,4,51],[12,145,4,51,"e"],[12,146,4,51],[12,157,4,51,"default"],[12,164,4,51],[12,166,4,51,"e"],[12,167,4,51],[12,175,4,51,"t"],[12,176,4,51],[12,179,4,51,"_getRequireWildcardCache"],[12,203,4,51],[12,204,4,51,"r"],[12,205,4,51],[12,212,4,51,"t"],[12,213,4,51],[12,217,4,51,"t"],[12,218,4,51],[12,219,4,51,"has"],[12,222,4,51],[12,223,4,51,"e"],[12,224,4,51],[12,234,4,51,"t"],[12,235,4,51],[12,236,4,51,"get"],[12,239,4,51],[12,240,4,51,"e"],[12,241,4,51],[12,248,4,51,"n"],[12,249,4,51],[12,254,4,51,"__proto__"],[12,263,4,51],[12,273,4,51,"a"],[12,274,4,51],[12,277,4,51,"Object"],[12,283,4,51],[12,284,4,51,"defineProperty"],[12,298,4,51],[12,302,4,51,"Object"],[12,308,4,51],[12,309,4,51,"getOwnPropertyDescriptor"],[12,333,4,51],[12,344,4,51,"u"],[12,345,4,51],[12,349,4,51,"e"],[12,350,4,51],[12,370,4,51,"u"],[12,371,4,51],[12,378,4,51,"hasOwnProperty"],[12,392,4,51],[12,393,4,51,"call"],[12,397,4,51],[12,398,4,51,"e"],[12,399,4,51],[12,401,4,51,"u"],[12,402,4,51],[12,411,4,51,"i"],[12,412,4,51],[12,415,4,51,"a"],[12,416,4,51],[12,419,4,51,"Object"],[12,425,4,51],[12,426,4,51,"getOwnPropertyDescriptor"],[12,450,4,51],[12,451,4,51,"e"],[12,452,4,51],[12,454,4,51,"u"],[12,455,4,51],[12,465,4,51,"i"],[12,466,4,51],[12,471,4,51,"i"],[12,472,4,51],[12,473,4,51,"get"],[12,476,4,51],[12,480,4,51,"i"],[12,481,4,51],[12,482,4,51,"set"],[12,485,4,51],[12,489,4,51,"Object"],[12,495,4,51],[12,496,4,51,"defineProperty"],[12,510,4,51],[12,511,4,51,"n"],[12,512,4,51],[12,514,4,51,"u"],[12,515,4,51],[12,517,4,51,"i"],[12,518,4,51],[12,522,4,51,"n"],[12,523,4,51],[12,524,4,51,"u"],[12,525,4,51],[12,529,4,51,"e"],[12,530,4,51],[12,531,4,51,"u"],[12,532,4,51],[12,544,4,51,"n"],[12,545,4,51],[12,546,4,51,"default"],[12,553,4,51],[12,556,4,51,"e"],[12,557,4,51],[12,559,4,51,"t"],[12,560,4,51],[12,564,4,51,"t"],[12,565,4,51],[12,566,4,51,"set"],[12,569,4,51],[12,570,4,51,"e"],[12,571,4,51],[12,573,4,51,"n"],[12,574,4,51],[12,577,4,51,"n"],[12,578,4,51],[13,2,5,0],[14,0,6,0],[15,0,7,0],[16,0,8,0],[17,0,9,0],[18,2,10,7],[18,8,10,13,"CHILD_STATE"],[18,19,10,24],[18,22,10,24,"exports"],[18,29,10,24],[18,30,10,24,"CHILD_STATE"],[18,41,10,24],[18,44,10,27,"Symbol"],[18,50,10,33],[18,51,10,34],[18,64,10,47],[18,65,10,48],[20,2,12,0],[21,0,13,0],[22,0,14,0],[23,0,15,0],[24,2,16,7],[24,11,16,16,"useRouteCache"],[24,24,16,29,"useRouteCache"],[24,25,16,30,"routes"],[24,31,16,36],[24,33,16,38],[25,4,17,2],[26,4,18,2],[26,10,18,8,"cache"],[26,15,18,13],[26,18,18,16,"React"],[26,23,18,21],[26,24,18,22,"useMemo"],[26,31,18,29],[26,32,18,30],[26,39,18,37],[27,6,19,4,"current"],[27,13,19,11],[27,15,19,13],[27,19,19,17,"Map"],[27,22,19,20],[27,23,19,21],[28,4,20,2],[28,5,20,3],[28,6,20,4],[28,8,20,6],[28,10,20,8],[28,11,20,9],[29,4,21,2],[29,8,21,6,"process"],[29,15,21,13],[29,16,21,14,"env"],[29,19,21,17],[29,20,21,18,"NODE_ENV"],[29,28,21,26],[29,33,21,31],[29,45,21,43],[29,47,21,45],[30,6,22,4],[31,6,23,4],[31,13,23,11,"routes"],[31,19,23,17],[32,4,24,2],[33,4,25,2,"cache"],[33,9,25,7],[33,10,25,8,"current"],[33,17,25,15],[33,20,25,18,"routes"],[33,26,25,24],[33,27,25,25,"reduce"],[33,33,25,31],[33,34,25,32],[33,35,25,33,"acc"],[33,38,25,36],[33,40,25,38,"route"],[33,45,25,43],[33,50,25,48],[34,6,26,4],[34,12,26,10,"previous"],[34,20,26,18],[34,23,26,21,"cache"],[34,28,26,26],[34,29,26,27,"current"],[34,36,26,34],[34,37,26,35,"get"],[34,40,26,38],[34,41,26,39,"route"],[34,46,26,44],[34,47,26,45,"key"],[34,50,26,48],[34,51,26,49],[35,6,27,4],[35,12,27,10],[36,8,28,6,"state"],[36,13,28,11],[37,8,29,6],[37,11,29,9,"routeWithoutState"],[38,6,30,4],[38,7,30,5],[38,10,30,8,"route"],[38,15,30,13],[39,6,31,4],[39,10,31,8,"proxy"],[39,15,31,13],[40,6,32,4],[40,10,32,8,"previous"],[40,18,32,16],[40,22,32,20],[40,26,32,20,"isRecordEqual"],[40,54,32,33],[40,56,32,34,"previous"],[40,64,32,42],[40,66,32,44,"routeWithoutState"],[40,83,32,61],[40,84,32,62],[40,86,32,64],[41,8,33,6],[42,8,34,6,"proxy"],[42,13,34,11],[42,16,34,14,"previous"],[42,24,34,22],[43,6,35,4],[43,7,35,5],[43,13,35,11],[44,8,36,6,"proxy"],[44,13,36,11],[44,16,36,14,"routeWithoutState"],[44,33,36,31],[45,6,37,4],[46,6,38,4],[46,10,38,8,"process"],[46,17,38,15],[46,18,38,16,"env"],[46,21,38,19],[46,22,38,20,"NODE_ENV"],[46,30,38,28],[46,35,38,33],[46,47,38,45],[46,49,38,47],[47,8,39,6],[48,8,40,6],[49,8,41,6],[49,13,41,11],[49,19,41,17,"key"],[49,22,41,20],[49,26,41,24,"proxy"],[49,31,41,29],[49,33,41,31],[50,10,42,8],[51,10,43,8],[51,16,43,14,"value"],[51,21,43,19],[51,24,43,22,"proxy"],[51,29,43,27],[51,30,43,28,"key"],[51,33,43,31],[51,34,43,32],[52,10,44,8,"Object"],[52,16,44,14],[52,17,44,15,"defineProperty"],[52,31,44,29],[52,32,44,30,"proxy"],[52,37,44,35],[52,39,44,37,"key"],[52,42,44,40],[52,44,44,42],[53,12,45,10,"enumerable"],[53,22,45,20],[53,24,45,22],[53,28,45,26],[54,12,46,10,"configurable"],[54,24,46,22],[54,26,46,24],[54,30,46,28],[55,12,47,10,"writable"],[55,20,47,18],[55,22,47,20],[55,27,47,25],[56,12,48,10,"value"],[57,10,49,8],[57,11,49,9],[57,12,49,10],[58,8,50,6],[59,6,51,4],[60,6,52,4,"Object"],[60,12,52,10],[60,13,52,11,"defineProperty"],[60,27,52,25],[60,28,52,26,"proxy"],[60,33,52,31],[60,35,52,33,"CHILD_STATE"],[60,46,52,44],[60,48,52,46],[61,8,53,6,"enumerable"],[61,18,53,16],[61,20,53,18],[61,25,53,23],[62,8,54,6,"configurable"],[62,20,54,18],[62,22,54,20],[62,26,54,24],[63,8,55,6,"value"],[63,13,55,11],[63,15,55,13,"state"],[64,6,56,4],[64,7,56,5],[64,8,56,6],[65,6,57,4,"acc"],[65,9,57,7],[65,10,57,8,"set"],[65,13,57,11],[65,14,57,12,"route"],[65,19,57,17],[65,20,57,18,"key"],[65,23,57,21],[65,25,57,23,"proxy"],[65,30,57,28],[65,31,57,29],[66,6,58,4],[66,13,58,11,"acc"],[66,16,58,14],[67,4,59,2],[67,5,59,3],[67,7,59,5],[67,11,59,9,"Map"],[67,14,59,12],[67,15,59,13],[67,16,59,14],[67,17,59,15],[68,4,60,2],[68,11,60,9,"Array"],[68,16,60,14],[68,17,60,15,"from"],[68,21,60,19],[68,22,60,20,"cache"],[68,27,60,25],[68,28,60,26,"current"],[68,35,60,33],[68,36,60,34,"values"],[68,42,60,40],[68,43,60,41],[68,44,60,42],[68,45,60,43],[69,2,61,0],[70,0,61,1],[70,3]],"functionMap":{"names":["<global>","useRouteCache","React.useMemo$argument_0","routes.reduce$argument_0"],"mappings":"AAA;OCe;8BCE;IDE;gCEK;GFkC;CDE"}},"type":"js/module"}]}