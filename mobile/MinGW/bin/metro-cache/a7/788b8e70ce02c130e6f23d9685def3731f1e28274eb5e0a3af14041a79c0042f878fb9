{"dependencies":[{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":31,"index":46}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./NavigationBuilderContext.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":47},"end":{"line":4,"column":73,"index":120}}],"key":"wXMcIJWUD66R6uBdlKglbjBdJPs="}},{"name":"./NavigationStateContext.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":0,"index":121},"end":{"line":5,"column":69,"index":190}}],"key":"s3tKImF4x81CxrhRnhZSIjHl48M="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useOptionsGetters = useOptionsGetters;\n  var React = _interopRequireWildcard(require(_dependencyMap[0], \"react\"));\n  var _NavigationBuilderContext = require(_dependencyMap[1], \"./NavigationBuilderContext.js\");\n  var _NavigationStateContext = require(_dependencyMap[2], \"./NavigationStateContext.js\");\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  function useOptionsGetters(_ref) {\n    var key = _ref.key,\n      options = _ref.options,\n      navigation = _ref.navigation;\n    var optionsRef = React.useRef(options);\n    var optionsGettersFromChildRef = React.useRef({});\n    var _React$useContext = React.useContext(_NavigationBuilderContext.NavigationBuilderContext),\n      onOptionsChange = _React$useContext.onOptionsChange;\n    var _React$useContext2 = React.useContext(_NavigationStateContext.NavigationStateContext),\n      parentAddOptionsGetter = _React$useContext2.addOptionsGetter;\n    var optionsChangeListener = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      var hasChildren = Object.keys(optionsGettersFromChildRef.current).length;\n      if (isFocused && !hasChildren) {\n        onOptionsChange(optionsRef.current ?? {});\n      }\n    }, [navigation, onOptionsChange]);\n    React.useEffect(() => {\n      optionsRef.current = options;\n      optionsChangeListener();\n      return navigation?.addListener('focus', optionsChangeListener);\n    }, [navigation, options, optionsChangeListener]);\n    var getOptionsFromListener = React.useCallback(() => {\n      for (var _key in optionsGettersFromChildRef.current) {\n        if (_key in optionsGettersFromChildRef.current) {\n          var result = optionsGettersFromChildRef.current[_key]?.();\n\n          // null means unfocused route\n          if (result !== null) {\n            return result;\n          }\n        }\n      }\n      return null;\n    }, []);\n    var getCurrentOptions = React.useCallback(() => {\n      var isFocused = navigation?.isFocused() ?? true;\n      if (!isFocused) {\n        return null;\n      }\n      var optionsFromListener = getOptionsFromListener();\n      if (optionsFromListener !== null) {\n        return optionsFromListener;\n      }\n      return optionsRef.current;\n    }, [navigation, getOptionsFromListener]);\n    React.useEffect(() => {\n      return parentAddOptionsGetter?.(key, getCurrentOptions);\n    }, [getCurrentOptions, parentAddOptionsGetter, key]);\n    var addOptionsGetter = React.useCallback((key, getter) => {\n      optionsGettersFromChildRef.current[key] = getter;\n      optionsChangeListener();\n      return () => {\n        // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n        delete optionsGettersFromChildRef.current[key];\n        optionsChangeListener();\n      };\n    }, [optionsChangeListener]);\n    return {\n      addOptionsGetter,\n      getCurrentOptions\n    };\n  }\n});","lineCount":76,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useOptionsGetters"],[7,27,1,13],[7,30,1,13,"useOptionsGetters"],[7,47,1,13],[8,2,3,0],[8,6,3,0,"React"],[8,11,3,0],[8,14,3,0,"_interopRequireWildcard"],[8,37,3,0],[8,38,3,0,"require"],[8,45,3,0],[8,46,3,0,"_dependencyMap"],[8,60,3,0],[9,2,4,0],[9,6,4,0,"_NavigationBuilderContext"],[9,31,4,0],[9,34,4,0,"require"],[9,41,4,0],[9,42,4,0,"_dependencyMap"],[9,56,4,0],[10,2,5,0],[10,6,5,0,"_NavigationStateContext"],[10,29,5,0],[10,32,5,0,"require"],[10,39,5,0],[10,40,5,0,"_dependencyMap"],[10,54,5,0],[11,2,5,69],[11,11,5,69,"_getRequireWildcardCache"],[11,36,5,69,"e"],[11,37,5,69],[11,66,5,69,"WeakMap"],[11,73,5,69],[11,92,5,69,"r"],[11,93,5,69],[11,100,5,69,"WeakMap"],[11,107,5,69],[11,111,5,69,"t"],[11,112,5,69],[11,119,5,69,"WeakMap"],[11,126,5,69],[11,138,5,69,"_getRequireWildcardCache"],[11,162,5,69],[11,174,5,69,"_getRequireWildcardCache"],[11,175,5,69,"e"],[11,176,5,69],[11,187,5,69,"e"],[11,188,5,69],[11,191,5,69,"t"],[11,192,5,69],[11,195,5,69,"r"],[11,196,5,69],[11,201,5,69,"e"],[11,202,5,69],[12,2,5,69],[12,11,5,69,"_interopRequireWildcard"],[12,35,5,69,"e"],[12,36,5,69],[12,38,5,69,"r"],[12,39,5,69],[12,48,5,69,"r"],[12,49,5,69],[12,53,5,69,"e"],[12,54,5,69],[12,58,5,69,"e"],[12,59,5,69],[12,60,5,69,"__esModule"],[12,70,5,69],[12,79,5,69,"e"],[12,80,5,69],[12,95,5,69,"e"],[12,96,5,69],[12,119,5,69,"e"],[12,120,5,69],[12,145,5,69,"e"],[12,146,5,69],[12,157,5,69,"default"],[12,164,5,69],[12,166,5,69,"e"],[12,167,5,69],[12,175,5,69,"t"],[12,176,5,69],[12,179,5,69,"_getRequireWildcardCache"],[12,203,5,69],[12,204,5,69,"r"],[12,205,5,69],[12,212,5,69,"t"],[12,213,5,69],[12,217,5,69,"t"],[12,218,5,69],[12,219,5,69,"has"],[12,222,5,69],[12,223,5,69,"e"],[12,224,5,69],[12,234,5,69,"t"],[12,235,5,69],[12,236,5,69,"get"],[12,239,5,69],[12,240,5,69,"e"],[12,241,5,69],[12,248,5,69,"n"],[12,249,5,69],[12,254,5,69,"__proto__"],[12,263,5,69],[12,273,5,69,"a"],[12,274,5,69],[12,277,5,69,"Object"],[12,283,5,69],[12,284,5,69,"defineProperty"],[12,298,5,69],[12,302,5,69,"Object"],[12,308,5,69],[12,309,5,69,"getOwnPropertyDescriptor"],[12,333,5,69],[12,344,5,69,"u"],[12,345,5,69],[12,349,5,69,"e"],[12,350,5,69],[12,370,5,69,"u"],[12,371,5,69],[12,378,5,69,"hasOwnProperty"],[12,392,5,69],[12,393,5,69,"call"],[12,397,5,69],[12,398,5,69,"e"],[12,399,5,69],[12,401,5,69,"u"],[12,402,5,69],[12,411,5,69,"i"],[12,412,5,69],[12,415,5,69,"a"],[12,416,5,69],[12,419,5,69,"Object"],[12,425,5,69],[12,426,5,69,"getOwnPropertyDescriptor"],[12,450,5,69],[12,451,5,69,"e"],[12,452,5,69],[12,454,5,69,"u"],[12,455,5,69],[12,465,5,69,"i"],[12,466,5,69],[12,471,5,69,"i"],[12,472,5,69],[12,473,5,69,"get"],[12,476,5,69],[12,480,5,69,"i"],[12,481,5,69],[12,482,5,69,"set"],[12,485,5,69],[12,489,5,69,"Object"],[12,495,5,69],[12,496,5,69,"defineProperty"],[12,510,5,69],[12,511,5,69,"n"],[12,512,5,69],[12,514,5,69,"u"],[12,515,5,69],[12,517,5,69,"i"],[12,518,5,69],[12,522,5,69,"n"],[12,523,5,69],[12,524,5,69,"u"],[12,525,5,69],[12,529,5,69,"e"],[12,530,5,69],[12,531,5,69,"u"],[12,532,5,69],[12,544,5,69,"n"],[12,545,5,69],[12,546,5,69,"default"],[12,553,5,69],[12,556,5,69,"e"],[12,557,5,69],[12,559,5,69,"t"],[12,560,5,69],[12,564,5,69,"t"],[12,565,5,69],[12,566,5,69,"set"],[12,569,5,69],[12,570,5,69,"e"],[12,571,5,69],[12,573,5,69,"n"],[12,574,5,69],[12,577,5,69,"n"],[12,578,5,69],[13,2,6,7],[13,11,6,16,"useOptionsGetters"],[13,28,6,33,"useOptionsGetters"],[13,29,6,33,"_ref"],[13,33,6,33],[13,35,10,3],[14,4,10,3],[14,8,7,2,"key"],[14,11,7,5],[14,14,7,5,"_ref"],[14,18,7,5],[14,19,7,2,"key"],[14,22,7,5],[15,6,8,2,"options"],[15,13,8,9],[15,16,8,9,"_ref"],[15,20,8,9],[15,21,8,2,"options"],[15,28,8,9],[16,6,9,2,"navigation"],[16,16,9,12],[16,19,9,12,"_ref"],[16,23,9,12],[16,24,9,2,"navigation"],[16,34,9,12],[17,4,11,2],[17,8,11,8,"optionsRef"],[17,18,11,18],[17,21,11,21,"React"],[17,26,11,26],[17,27,11,27,"useRef"],[17,33,11,33],[17,34,11,34,"options"],[17,41,11,41],[17,42,11,42],[18,4,12,2],[18,8,12,8,"optionsGettersFromChildRef"],[18,34,12,34],[18,37,12,37,"React"],[18,42,12,42],[18,43,12,43,"useRef"],[18,49,12,49],[18,50,12,50],[18,51,12,51],[18,52,12,52],[18,53,12,53],[19,4,13,2],[19,8,13,2,"_React$useContext"],[19,25,13,2],[19,28,15,6,"React"],[19,33,15,11],[19,34,15,12,"useContext"],[19,44,15,22],[19,45,15,23,"NavigationBuilderContext"],[19,95,15,47],[19,96,15,48],[20,6,14,4,"onOptionsChange"],[20,21,14,19],[20,24,14,19,"_React$useContext"],[20,41,14,19],[20,42,14,4,"onOptionsChange"],[20,57,14,19],[21,4,16,2],[21,8,16,2,"_React$useContext2"],[21,26,16,2],[21,29,18,6,"React"],[21,34,18,11],[21,35,18,12,"useContext"],[21,45,18,22],[21,46,18,23,"NavigationStateContext"],[21,92,18,45],[21,93,18,46],[22,6,17,22,"parentAddOptionsGetter"],[22,28,17,44],[22,31,17,44,"_React$useContext2"],[22,49,17,44],[22,50,17,4,"addOptionsGetter"],[22,66,17,20],[23,4,19,2],[23,8,19,8,"optionsChangeListener"],[23,29,19,29],[23,32,19,32,"React"],[23,37,19,37],[23,38,19,38,"useCallback"],[23,49,19,49],[23,50,19,50],[23,56,19,56],[24,6,20,4],[24,10,20,10,"isFocused"],[24,19,20,19],[24,22,20,22,"navigation"],[24,32,20,32],[24,34,20,34,"isFocused"],[24,43,20,43],[24,44,20,44],[24,45,20,45],[24,49,20,49],[24,53,20,53],[25,6,21,4],[25,10,21,10,"hasChildren"],[25,21,21,21],[25,24,21,24,"Object"],[25,30,21,30],[25,31,21,31,"keys"],[25,35,21,35],[25,36,21,36,"optionsGettersFromChildRef"],[25,62,21,62],[25,63,21,63,"current"],[25,70,21,70],[25,71,21,71],[25,72,21,72,"length"],[25,78,21,78],[26,6,22,4],[26,10,22,8,"isFocused"],[26,19,22,17],[26,23,22,21],[26,24,22,22,"hasChildren"],[26,35,22,33],[26,37,22,35],[27,8,23,6,"onOptionsChange"],[27,23,23,21],[27,24,23,22,"optionsRef"],[27,34,23,32],[27,35,23,33,"current"],[27,42,23,40],[27,46,23,44],[27,47,23,45],[27,48,23,46],[27,49,23,47],[28,6,24,4],[29,4,25,2],[29,5,25,3],[29,7,25,5],[29,8,25,6,"navigation"],[29,18,25,16],[29,20,25,18,"onOptionsChange"],[29,35,25,33],[29,36,25,34],[29,37,25,35],[30,4,26,2,"React"],[30,9,26,7],[30,10,26,8,"useEffect"],[30,19,26,17],[30,20,26,18],[30,26,26,24],[31,6,27,4,"optionsRef"],[31,16,27,14],[31,17,27,15,"current"],[31,24,27,22],[31,27,27,25,"options"],[31,34,27,32],[32,6,28,4,"optionsChangeListener"],[32,27,28,25],[32,28,28,26],[32,29,28,27],[33,6,29,4],[33,13,29,11,"navigation"],[33,23,29,21],[33,25,29,23,"addListener"],[33,36,29,34],[33,37,29,35],[33,44,29,42],[33,46,29,44,"optionsChangeListener"],[33,67,29,65],[33,68,29,66],[34,4,30,2],[34,5,30,3],[34,7,30,5],[34,8,30,6,"navigation"],[34,18,30,16],[34,20,30,18,"options"],[34,27,30,25],[34,29,30,27,"optionsChangeListener"],[34,50,30,48],[34,51,30,49],[34,52,30,50],[35,4,31,2],[35,8,31,8,"getOptionsFromListener"],[35,30,31,30],[35,33,31,33,"React"],[35,38,31,38],[35,39,31,39,"useCallback"],[35,50,31,50],[35,51,31,51],[35,57,31,57],[36,6,32,4],[36,11,32,9],[36,15,32,15,"key"],[36,19,32,18],[36,23,32,22,"optionsGettersFromChildRef"],[36,49,32,48],[36,50,32,49,"current"],[36,57,32,56],[36,59,32,58],[37,8,33,6],[37,12,33,10,"key"],[37,16,33,13],[37,20,33,17,"optionsGettersFromChildRef"],[37,46,33,43],[37,47,33,44,"current"],[37,54,33,51],[37,56,33,53],[38,10,34,8],[38,14,34,14,"result"],[38,20,34,20],[38,23,34,23,"optionsGettersFromChildRef"],[38,49,34,49],[38,50,34,50,"current"],[38,57,34,57],[38,58,34,58,"key"],[38,62,34,61],[38,63,34,62],[38,66,34,65],[38,67,34,66],[40,10,36,8],[41,10,37,8],[41,14,37,12,"result"],[41,20,37,18],[41,25,37,23],[41,29,37,27],[41,31,37,29],[42,12,38,10],[42,19,38,17,"result"],[42,25,38,23],[43,10,39,8],[44,8,40,6],[45,6,41,4],[46,6,42,4],[46,13,42,11],[46,17,42,15],[47,4,43,2],[47,5,43,3],[47,7,43,5],[47,9,43,7],[47,10,43,8],[48,4,44,2],[48,8,44,8,"getCurrentOptions"],[48,25,44,25],[48,28,44,28,"React"],[48,33,44,33],[48,34,44,34,"useCallback"],[48,45,44,45],[48,46,44,46],[48,52,44,52],[49,6,45,4],[49,10,45,10,"isFocused"],[49,19,45,19],[49,22,45,22,"navigation"],[49,32,45,32],[49,34,45,34,"isFocused"],[49,43,45,43],[49,44,45,44],[49,45,45,45],[49,49,45,49],[49,53,45,53],[50,6,46,4],[50,10,46,8],[50,11,46,9,"isFocused"],[50,20,46,18],[50,22,46,20],[51,8,47,6],[51,15,47,13],[51,19,47,17],[52,6,48,4],[53,6,49,4],[53,10,49,10,"optionsFromListener"],[53,29,49,29],[53,32,49,32,"getOptionsFromListener"],[53,54,49,54],[53,55,49,55],[53,56,49,56],[54,6,50,4],[54,10,50,8,"optionsFromListener"],[54,29,50,27],[54,34,50,32],[54,38,50,36],[54,40,50,38],[55,8,51,6],[55,15,51,13,"optionsFromListener"],[55,34,51,32],[56,6,52,4],[57,6,53,4],[57,13,53,11,"optionsRef"],[57,23,53,21],[57,24,53,22,"current"],[57,31,53,29],[58,4,54,2],[58,5,54,3],[58,7,54,5],[58,8,54,6,"navigation"],[58,18,54,16],[58,20,54,18,"getOptionsFromListener"],[58,42,54,40],[58,43,54,41],[58,44,54,42],[59,4,55,2,"React"],[59,9,55,7],[59,10,55,8,"useEffect"],[59,19,55,17],[59,20,55,18],[59,26,55,24],[60,6,56,4],[60,13,56,11,"parentAddOptionsGetter"],[60,35,56,33],[60,38,56,36,"key"],[60,41,56,39],[60,43,56,41,"getCurrentOptions"],[60,60,56,58],[60,61,56,59],[61,4,57,2],[61,5,57,3],[61,7,57,5],[61,8,57,6,"getCurrentOptions"],[61,25,57,23],[61,27,57,25,"parentAddOptionsGetter"],[61,49,57,47],[61,51,57,49,"key"],[61,54,57,52],[61,55,57,53],[61,56,57,54],[62,4,58,2],[62,8,58,8,"addOptionsGetter"],[62,24,58,24],[62,27,58,27,"React"],[62,32,58,32],[62,33,58,33,"useCallback"],[62,44,58,44],[62,45,58,45],[62,46,58,46,"key"],[62,49,58,49],[62,51,58,51,"getter"],[62,57,58,57],[62,62,58,62],[63,6,59,4,"optionsGettersFromChildRef"],[63,32,59,30],[63,33,59,31,"current"],[63,40,59,38],[63,41,59,39,"key"],[63,44,59,42],[63,45,59,43],[63,48,59,46,"getter"],[63,54,59,52],[64,6,60,4,"optionsChangeListener"],[64,27,60,25],[64,28,60,26],[64,29,60,27],[65,6,61,4],[65,13,61,11],[65,19,61,17],[66,8,62,6],[67,8,63,6],[67,15,63,13,"optionsGettersFromChildRef"],[67,41,63,39],[67,42,63,40,"current"],[67,49,63,47],[67,50,63,48,"key"],[67,53,63,51],[67,54,63,52],[68,8,64,6,"optionsChangeListener"],[68,29,64,27],[68,30,64,28],[68,31,64,29],[69,6,65,4],[69,7,65,5],[70,4,66,2],[70,5,66,3],[70,7,66,5],[70,8,66,6,"optionsChangeListener"],[70,29,66,27],[70,30,66,28],[70,31,66,29],[71,4,67,2],[71,11,67,9],[72,6,68,4,"addOptionsGetter"],[72,22,68,20],[73,6,69,4,"getCurrentOptions"],[74,4,70,2],[74,5,70,3],[75,2,71,0],[76,0,71,1],[76,3]],"functionMap":{"names":["<global>","useOptionsGetters","optionsChangeListener","React.useEffect$argument_0","getOptionsFromListener","getCurrentOptions","addOptionsGetter","<anonymous>"],"mappings":"AAA;OCK;kDCa;GDM;kBEC;GFI;mDGC;GHY;8CIC;GJU;kBEC;GFE;6CKC;WCG;KDI;GLC;CDK"}},"type":"js/module"}]}