{"dependencies":[{"name":"@react-navigation/core","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":196,"index":211}}],"key":"i0wMeuFkK29k6tj4be7EOXJEiJA="}},{"name":"react","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":212},"end":{"line":4,"column":31,"index":243}}],"key":"a4EMkKqamYWCMMPV7UeQlqGQ+ks="}},{"name":"./LinkingContext.js","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":0,"index":244},"end":{"line":5,"column":53,"index":297}}],"key":"yYBHznJ84s4iaDtUztCrHxF76Do="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useLinkBuilder = useLinkBuilder;\n  var _core = require(_dependencyMap[0], \"@react-navigation/core\");\n  var React = _interopRequireWildcard(require(_dependencyMap[1], \"react\"));\n  var _LinkingContext = require(_dependencyMap[2], \"./LinkingContext.js\");\n  function _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\n  function _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n  /**\n   * Helpers to build href or action based on the linking options.\n   *\n   * @returns `buildHref` to build an `href` for screen and `buildAction` to build an action from an `href`.\n   */\n  function useLinkBuilder() {\n    var navigation = React.useContext(_core.NavigationHelpersContext);\n    var route = React.useContext(_core.NavigationRouteContext);\n    var _React$useContext = React.useContext(_LinkingContext.LinkingContext),\n      options = _React$useContext.options;\n    var focusedRouteState = (0, _core.useStateForPath)();\n    var getPathFromStateHelper = options?.getPathFromState ?? _core.getPathFromState;\n    var getStateFromPathHelper = options?.getStateFromPath ?? _core.getStateFromPath;\n    var getActionFromStateHelper = options?.getActionFromState ?? _core.getActionFromState;\n    var buildHref = React.useCallback((name, params) => {\n      if (options?.enabled === false) {\n        return undefined;\n      }\n\n      // Check that we're inside:\n      // - navigator's context\n      // - route context of the navigator (could be a screen, tab, etc.)\n      // - route matches the state for path (from the screen's context)\n      // This ensures that we're inside a screen\n      var isScreen = navigation && route?.key && focusedRouteState ? route.key === (0, _core.findFocusedRoute)(focusedRouteState)?.key && navigation.getState().routes.some(r => r.key === route.key) : false;\n      var stateForRoute = {\n        routes: [{\n          name,\n          params\n        }]\n      };\n      var constructState = state => {\n        if (state) {\n          var _route = state.routes[0];\n\n          // If we're inside a screen and at the innermost route\n          // We need to replace the state with the provided one\n          // This assumes that we're navigating to a sibling route\n          if (isScreen && !_route.state) {\n            return stateForRoute;\n          }\n\n          // Otherwise, dive into the nested state of the route\n          return {\n            routes: [{\n              ..._route,\n              state: constructState(_route.state)\n            }]\n          };\n        }\n\n        // Once there is no more nested state, we're at the innermost route\n        // We can add a state based on provided parameters\n        // This assumes that we're navigating to a child of this route\n        // In this case, the helper is used in a navigator for its routes\n        return stateForRoute;\n      };\n      var state = constructState(focusedRouteState);\n      var path = getPathFromStateHelper(state, options?.config);\n      return path;\n    }, [options?.enabled, options?.config, route?.key, navigation, focusedRouteState, getPathFromStateHelper]);\n    var buildAction = React.useCallback(href => {\n      if (!href.startsWith('/')) {\n        throw new Error(`The href must start with '/' (${href}).`);\n      }\n      var state = getStateFromPathHelper(href, options?.config);\n      if (state) {\n        var action = getActionFromStateHelper(state, options?.config);\n        return action ?? _core.CommonActions.reset(state);\n      } else {\n        throw new Error('Failed to parse the href to a navigation state.');\n      }\n    }, [options?.config, getStateFromPathHelper, getActionFromStateHelper]);\n    return {\n      buildHref,\n      buildAction\n    };\n  }\n});","lineCount":91,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,1,13,"exports"],[7,9,1,13],[7,10,1,13,"useLinkBuilder"],[7,24,1,13],[7,27,1,13,"useLinkBuilder"],[7,41,1,13],[8,2,3,0],[8,6,3,0,"_core"],[8,11,3,0],[8,14,3,0,"require"],[8,21,3,0],[8,22,3,0,"_dependencyMap"],[8,36,3,0],[9,2,4,0],[9,6,4,0,"React"],[9,11,4,0],[9,14,4,0,"_interopRequireWildcard"],[9,37,4,0],[9,38,4,0,"require"],[9,45,4,0],[9,46,4,0,"_dependencyMap"],[9,60,4,0],[10,2,5,0],[10,6,5,0,"_LinkingContext"],[10,21,5,0],[10,24,5,0,"require"],[10,31,5,0],[10,32,5,0,"_dependencyMap"],[10,46,5,0],[11,2,5,53],[11,11,5,53,"_getRequireWildcardCache"],[11,36,5,53,"e"],[11,37,5,53],[11,66,5,53,"WeakMap"],[11,73,5,53],[11,92,5,53,"r"],[11,93,5,53],[11,100,5,53,"WeakMap"],[11,107,5,53],[11,111,5,53,"t"],[11,112,5,53],[11,119,5,53,"WeakMap"],[11,126,5,53],[11,138,5,53,"_getRequireWildcardCache"],[11,162,5,53],[11,174,5,53,"_getRequireWildcardCache"],[11,175,5,53,"e"],[11,176,5,53],[11,187,5,53,"e"],[11,188,5,53],[11,191,5,53,"t"],[11,192,5,53],[11,195,5,53,"r"],[11,196,5,53],[11,201,5,53,"e"],[11,202,5,53],[12,2,5,53],[12,11,5,53,"_interopRequireWildcard"],[12,35,5,53,"e"],[12,36,5,53],[12,38,5,53,"r"],[12,39,5,53],[12,48,5,53,"r"],[12,49,5,53],[12,53,5,53,"e"],[12,54,5,53],[12,58,5,53,"e"],[12,59,5,53],[12,60,5,53,"__esModule"],[12,70,5,53],[12,79,5,53,"e"],[12,80,5,53],[12,95,5,53,"e"],[12,96,5,53],[12,119,5,53,"e"],[12,120,5,53],[12,145,5,53,"e"],[12,146,5,53],[12,157,5,53,"default"],[12,164,5,53],[12,166,5,53,"e"],[12,167,5,53],[12,175,5,53,"t"],[12,176,5,53],[12,179,5,53,"_getRequireWildcardCache"],[12,203,5,53],[12,204,5,53,"r"],[12,205,5,53],[12,212,5,53,"t"],[12,213,5,53],[12,217,5,53,"t"],[12,218,5,53],[12,219,5,53,"has"],[12,222,5,53],[12,223,5,53,"e"],[12,224,5,53],[12,234,5,53,"t"],[12,235,5,53],[12,236,5,53,"get"],[12,239,5,53],[12,240,5,53,"e"],[12,241,5,53],[12,248,5,53,"n"],[12,249,5,53],[12,254,5,53,"__proto__"],[12,263,5,53],[12,273,5,53,"a"],[12,274,5,53],[12,277,5,53,"Object"],[12,283,5,53],[12,284,5,53,"defineProperty"],[12,298,5,53],[12,302,5,53,"Object"],[12,308,5,53],[12,309,5,53,"getOwnPropertyDescriptor"],[12,333,5,53],[12,344,5,53,"u"],[12,345,5,53],[12,349,5,53,"e"],[12,350,5,53],[12,370,5,53,"u"],[12,371,5,53],[12,378,5,53,"hasOwnProperty"],[12,392,5,53],[12,393,5,53,"call"],[12,397,5,53],[12,398,5,53,"e"],[12,399,5,53],[12,401,5,53,"u"],[12,402,5,53],[12,411,5,53,"i"],[12,412,5,53],[12,415,5,53,"a"],[12,416,5,53],[12,419,5,53,"Object"],[12,425,5,53],[12,426,5,53,"getOwnPropertyDescriptor"],[12,450,5,53],[12,451,5,53,"e"],[12,452,5,53],[12,454,5,53,"u"],[12,455,5,53],[12,465,5,53,"i"],[12,466,5,53],[12,471,5,53,"i"],[12,472,5,53],[12,473,5,53,"get"],[12,476,5,53],[12,480,5,53,"i"],[12,481,5,53],[12,482,5,53,"set"],[12,485,5,53],[12,489,5,53,"Object"],[12,495,5,53],[12,496,5,53,"defineProperty"],[12,510,5,53],[12,511,5,53,"n"],[12,512,5,53],[12,514,5,53,"u"],[12,515,5,53],[12,517,5,53,"i"],[12,518,5,53],[12,522,5,53,"n"],[12,523,5,53],[12,524,5,53,"u"],[12,525,5,53],[12,529,5,53,"e"],[12,530,5,53],[12,531,5,53,"u"],[12,532,5,53],[12,544,5,53,"n"],[12,545,5,53],[12,546,5,53,"default"],[12,553,5,53],[12,556,5,53,"e"],[12,557,5,53],[12,559,5,53,"t"],[12,560,5,53],[12,564,5,53,"t"],[12,565,5,53],[12,566,5,53,"set"],[12,569,5,53],[12,570,5,53,"e"],[12,571,5,53],[12,573,5,53,"n"],[12,574,5,53],[12,577,5,53,"n"],[12,578,5,53],[13,2,6,0],[14,0,7,0],[15,0,8,0],[16,0,9,0],[17,0,10,0],[18,2,11,7],[18,11,11,16,"useLinkBuilder"],[18,25,11,30,"useLinkBuilder"],[18,26,11,30],[18,28,11,33],[19,4,12,2],[19,8,12,8,"navigation"],[19,18,12,18],[19,21,12,21,"React"],[19,26,12,26],[19,27,12,27,"useContext"],[19,37,12,37],[19,38,12,38,"NavigationHelpersContext"],[19,68,12,62],[19,69,12,63],[20,4,13,2],[20,8,13,8,"route"],[20,13,13,13],[20,16,13,16,"React"],[20,21,13,21],[20,22,13,22,"useContext"],[20,32,13,32],[20,33,13,33,"NavigationRouteContext"],[20,61,13,55],[20,62,13,56],[21,4,14,2],[21,8,14,2,"_React$useContext"],[21,25,14,2],[21,28,16,6,"React"],[21,33,16,11],[21,34,16,12,"useContext"],[21,44,16,22],[21,45,16,23,"LinkingContext"],[21,75,16,37],[21,76,16,38],[22,6,15,4,"options"],[22,13,15,11],[22,16,15,11,"_React$useContext"],[22,33,15,11],[22,34,15,4,"options"],[22,41,15,11],[23,4,17,2],[23,8,17,8,"focusedRouteState"],[23,25,17,25],[23,28,17,28],[23,32,17,28,"useStateForPath"],[23,53,17,43],[23,55,17,44],[23,56,17,45],[24,4,18,2],[24,8,18,8,"getPathFromStateHelper"],[24,30,18,30],[24,33,18,33,"options"],[24,40,18,40],[24,42,18,42,"getPathFromState"],[24,58,18,58],[24,62,18,62,"getPathFromState"],[24,84,18,78],[25,4,19,2],[25,8,19,8,"getStateFromPathHelper"],[25,30,19,30],[25,33,19,33,"options"],[25,40,19,40],[25,42,19,42,"getStateFromPath"],[25,58,19,58],[25,62,19,62,"getStateFromPath"],[25,84,19,78],[26,4,20,2],[26,8,20,8,"getActionFromStateHelper"],[26,32,20,32],[26,35,20,35,"options"],[26,42,20,42],[26,44,20,44,"getActionFromState"],[26,62,20,62],[26,66,20,66,"getActionFromState"],[26,90,20,84],[27,4,21,2],[27,8,21,8,"buildHref"],[27,17,21,17],[27,20,21,20,"React"],[27,25,21,25],[27,26,21,26,"useCallback"],[27,37,21,37],[27,38,21,38],[27,39,21,39,"name"],[27,43,21,43],[27,45,21,45,"params"],[27,51,21,51],[27,56,21,56],[28,6,22,4],[28,10,22,8,"options"],[28,17,22,15],[28,19,22,17,"enabled"],[28,26,22,24],[28,31,22,29],[28,36,22,34],[28,38,22,36],[29,8,23,6],[29,15,23,13,"undefined"],[29,24,23,22],[30,6,24,4],[32,6,26,4],[33,6,27,4],[34,6,28,4],[35,6,29,4],[36,6,30,4],[37,6,31,4],[37,10,31,10,"isScreen"],[37,18,31,18],[37,21,31,21,"navigation"],[37,31,31,31],[37,35,31,35,"route"],[37,40,31,40],[37,42,31,42,"key"],[37,45,31,45],[37,49,31,49,"focusedRouteState"],[37,66,31,66],[37,69,31,69,"route"],[37,74,31,74],[37,75,31,75,"key"],[37,78,31,78],[37,83,31,83],[37,87,31,83,"findFocusedRoute"],[37,109,31,99],[37,111,31,100,"focusedRouteState"],[37,128,31,117],[37,129,31,118],[37,131,31,120,"key"],[37,134,31,123],[37,138,31,127,"navigation"],[37,148,31,137],[37,149,31,138,"getState"],[37,157,31,146],[37,158,31,147],[37,159,31,148],[37,160,31,149,"routes"],[37,166,31,155],[37,167,31,156,"some"],[37,171,31,160],[37,172,31,161,"r"],[37,173,31,162],[37,177,31,166,"r"],[37,178,31,167],[37,179,31,168,"key"],[37,182,31,171],[37,187,31,176,"route"],[37,192,31,181],[37,193,31,182,"key"],[37,196,31,185],[37,197,31,186],[37,200,31,189],[37,205,31,194],[38,6,32,4],[38,10,32,10,"stateForRoute"],[38,23,32,23],[38,26,32,26],[39,8,33,6,"routes"],[39,14,33,12],[39,16,33,14],[39,17,33,15],[40,10,34,8,"name"],[40,14,34,12],[41,10,35,8,"params"],[42,8,36,6],[42,9,36,7],[43,6,37,4],[43,7,37,5],[44,6,38,4],[44,10,38,10,"constructState"],[44,24,38,24],[44,27,38,27,"state"],[44,32,38,32],[44,36,38,36],[45,8,39,6],[45,12,39,10,"state"],[45,17,39,15],[45,19,39,17],[46,10,40,8],[46,14,40,14,"route"],[46,20,40,19],[46,23,40,22,"state"],[46,28,40,27],[46,29,40,28,"routes"],[46,35,40,34],[46,36,40,35],[46,37,40,36],[46,38,40,37],[48,10,42,8],[49,10,43,8],[50,10,44,8],[51,10,45,8],[51,14,45,12,"isScreen"],[51,22,45,20],[51,26,45,24],[51,27,45,25,"route"],[51,33,45,30],[51,34,45,31,"state"],[51,39,45,36],[51,41,45,38],[52,12,46,10],[52,19,46,17,"stateForRoute"],[52,32,46,30],[53,10,47,8],[55,10,49,8],[56,10,50,8],[56,17,50,15],[57,12,51,10,"routes"],[57,18,51,16],[57,20,51,18],[57,21,51,19],[58,14,52,12],[58,17,52,15,"route"],[58,23,52,20],[59,14,53,12,"state"],[59,19,53,17],[59,21,53,19,"constructState"],[59,35,53,33],[59,36,53,34,"route"],[59,42,53,39],[59,43,53,40,"state"],[59,48,53,45],[60,12,54,10],[60,13,54,11],[61,10,55,8],[61,11,55,9],[62,8,56,6],[64,8,58,6],[65,8,59,6],[66,8,60,6],[67,8,61,6],[68,8,62,6],[68,15,62,13,"stateForRoute"],[68,28,62,26],[69,6,63,4],[69,7,63,5],[70,6,64,4],[70,10,64,10,"state"],[70,15,64,15],[70,18,64,18,"constructState"],[70,32,64,32],[70,33,64,33,"focusedRouteState"],[70,50,64,50],[70,51,64,51],[71,6,65,4],[71,10,65,10,"path"],[71,14,65,14],[71,17,65,17,"getPathFromStateHelper"],[71,39,65,39],[71,40,65,40,"state"],[71,45,65,45],[71,47,65,47,"options"],[71,54,65,54],[71,56,65,56,"config"],[71,62,65,62],[71,63,65,63],[72,6,66,4],[72,13,66,11,"path"],[72,17,66,15],[73,4,67,2],[73,5,67,3],[73,7,67,5],[73,8,67,6,"options"],[73,15,67,13],[73,17,67,15,"enabled"],[73,24,67,22],[73,26,67,24,"options"],[73,33,67,31],[73,35,67,33,"config"],[73,41,67,39],[73,43,67,41,"route"],[73,48,67,46],[73,50,67,48,"key"],[73,53,67,51],[73,55,67,53,"navigation"],[73,65,67,63],[73,67,67,65,"focusedRouteState"],[73,84,67,82],[73,86,67,84,"getPathFromStateHelper"],[73,108,67,106],[73,109,67,107],[73,110,67,108],[74,4,68,2],[74,8,68,8,"buildAction"],[74,19,68,19],[74,22,68,22,"React"],[74,27,68,27],[74,28,68,28,"useCallback"],[74,39,68,39],[74,40,68,40,"href"],[74,44,68,44],[74,48,68,48],[75,6,69,4],[75,10,69,8],[75,11,69,9,"href"],[75,15,69,13],[75,16,69,14,"startsWith"],[75,26,69,24],[75,27,69,25],[75,30,69,28],[75,31,69,29],[75,33,69,31],[76,8,70,6],[76,14,70,12],[76,18,70,16,"Error"],[76,23,70,21],[76,24,70,22],[76,57,70,55,"href"],[76,61,70,59],[76,65,70,63],[76,66,70,64],[77,6,71,4],[78,6,72,4],[78,10,72,10,"state"],[78,15,72,15],[78,18,72,18,"getStateFromPathHelper"],[78,40,72,40],[78,41,72,41,"href"],[78,45,72,45],[78,47,72,47,"options"],[78,54,72,54],[78,56,72,56,"config"],[78,62,72,62],[78,63,72,63],[79,6,73,4],[79,10,73,8,"state"],[79,15,73,13],[79,17,73,15],[80,8,74,6],[80,12,74,12,"action"],[80,18,74,18],[80,21,74,21,"getActionFromStateHelper"],[80,45,74,45],[80,46,74,46,"state"],[80,51,74,51],[80,53,74,53,"options"],[80,60,74,60],[80,62,74,62,"config"],[80,68,74,68],[80,69,74,69],[81,8,75,6],[81,15,75,13,"action"],[81,21,75,19],[81,25,75,23,"CommonActions"],[81,44,75,36],[81,45,75,37,"reset"],[81,50,75,42],[81,51,75,43,"state"],[81,56,75,48],[81,57,75,49],[82,6,76,4],[82,7,76,5],[82,13,76,11],[83,8,77,6],[83,14,77,12],[83,18,77,16,"Error"],[83,23,77,21],[83,24,77,22],[83,73,77,71],[83,74,77,72],[84,6,78,4],[85,4,79,2],[85,5,79,3],[85,7,79,5],[85,8,79,6,"options"],[85,15,79,13],[85,17,79,15,"config"],[85,23,79,21],[85,25,79,23,"getStateFromPathHelper"],[85,47,79,45],[85,49,79,47,"getActionFromStateHelper"],[85,73,79,71],[85,74,79,72],[85,75,79,73],[86,4,80,2],[86,11,80,9],[87,6,81,4,"buildHref"],[87,15,81,13],[88,6,82,4,"buildAction"],[89,4,83,2],[89,5,83,3],[90,2,84,0],[91,0,84,1],[91,3]],"functionMap":{"names":["<global>","useLinkBuilder","buildHref","navigation.getState.routes.some$argument_0","constructState","buildAction"],"mappings":"AAA;OCU;sCCU;iKCU,wBD;2BEO;KFyB;GDI;wCIC;GJW;CDK"}},"type":"js/module"}]}